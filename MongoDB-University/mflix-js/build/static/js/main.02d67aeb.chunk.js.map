{"version":3,"sources":["assets/mongoleaf.png","assets/pixelatedLeaf.svg","routing/ConnectedSwitch.js","routing/PrivateRoute.js","actions/actionTypes.js","actions/request.js","actions/userActions.js","components/AccountPanel.js","actions/miscActions.js","components/Header.js","actions/movieActions.js","components/ErrorsDiv.js","components/Errors.js","components/MovieTile.js","components/Facets.js","actions/validationActions/validationHelpers.js","actions/validationActions/validateFacetedSearch.js","containers/MovieGrid.js","containers/CountryResults.js","components/LoginCard.js","components/SignupCard.js","components/RatingBar.js","components/ViewModal.js","components/CommentCard.js","components/PostComment.js","components/MovieDetail.js","components/Account.js","actions/validationActions/validateConnection.js","actions/validationActions/validateProjection.js","actions/validationActions/validateTextAndSubfield.js","actions/validationActions/validatePaging.js","actions/validationActions/validateUserManagement.js","actions/validationActions/validateUserPreferences.js","actions/validationActions/validateGetComments.js","actions/validationActions/validateCreateUpdateComments.js","actions/validationActions/validateDeleteComments.js","actions/validationActions/validateUserReport.js","actions/validationActions/validateMigration.js","actions/validationActions/validateConnectionPooling.js","actions/validationActions/validateTimeouts.js","actions/validationActions/validateErrorHandling.js","actions/validationActions/validatePOLP.js","components/TicketValidator.js","components/Status.js","components/SubfieldSearch.js","components/AppDrawer.js","routing/AdminRoute.js","actions/reportActions.js","containers/AdminPanel.js","containers/UserReport.js","containers/MainContainer.js","reducers/moviesReducer.js","reducers/errorsReducer.js","reducers/fetchReducer.js","store/localStorage.js","reducers/userReducer.js","reducers/miscReducer.js","reducers/validationReducer.js","reducers/reportReducer.js","store/configureStore.js","index.js"],"names":["module","exports","__webpack_require__","p","ConnectedSwitch","connect","state","location","Switch","_ref2","user","_ref","Component","component","redirectRoute","rest","Object","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","loggedIn","Redirect","to","FETCH_MOVIES","FETCH_MOVIES_FAILURE","SEARCH_MOVIES","SEARCH_MOVIES_FAILURE","SEARCH_COUNTRIES_FAILURE","RECEIVED_COUNTRY_RESULTS","RECEIVED_MOVIES","MOVIE_DETAIL","RECEIVED_SEARCH_RESULTS","FETCH_MOVIE_BY_ID","FETCH_MOVIE_BY_ID_FAILURE","RECEIVED_MOVIE_BY_ID","VIEW_MOVIE","PAGINATE_MOVIES","RECEIVED_PAGINATION","BEGIN_PAGING","PROP_FACET_FILTER","SUBMIT_COMMENT_SUCCESS","UPDATE_COMMENT_SUCCESS","CLEAR_ERROR","FETCH_USER_REPORT","RECEIVED_USER_REPORT_FAILURE","RECEIVED_USER_REPORT_SUCCESS","TOGGLE_DRAWER","NO_OP","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","SAVE_PREFS_SUCCESS","SAVE_PREFS_FAIL","CHECK_ADMIN","CHECK_ADMIN_SUCCESS","CHECK_ADMIN_FAIL","VALIDATING_TICKET","VALIDATE_CONNECTION","VALIDATE_CONNECTION_SUCCESS","VALIDATE_CONNECTION_ERROR","VALIDATE_PROJECTION","VALIDATE_PROJECTION_SUCCESS","VALIDATE_PROJECTION_ERROR","VALIDATE_TEXT_AND_SUBFIELD","VALIDATE_TEXT_AND_SUBFIELD_SUCCESS","VALIDATE_TEXT_AND_SUBFIELD_ERROR","VALIDATE_PAGING","VALIDATE_PAGING_SUCCESS","VALIDATE_PAGING_ERROR","VALIDATE_FACETED_SEARCH","VALIDATE_FACETED_SEARCH_SUCCESS","VALIDATE_FACETED_SEARCH_ERROR","VALIDATE_USER_MANAGEMENT","VALIDATE_USER_MANAGEMENT_SUCCESS","VALIDATE_USER_MANAGEMENT_ERROR","VALIDATE_USER_PREFERENCES","VALIDATE_USER_PREFERENCES_SUCCESS","VALIDATE_USER_PREFERENCES_ERROR","VALIDATE_GET_COMMENTS","VALIDATE_GET_COMMENTS_SUCCESS","VALIDATE_GET_COMMENTS_ERROR","VALIDATE_CREATE_UPDATE_COMMENTS","VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS","VALIDATE_CREATE_UPDATE_COMMENTS_ERROR","VALIDATE_DELETE_COMMENTS","VALIDATE_DELETE_COMMENTS_SUCCESS","VALIDATE_DELETE_COMMENTS_ERROR","VALIDATE_USER_REPORT","VALIDATE_USER_REPORT_SUCCESS","VALIDATE_USER_REPORT_ERROR","VALIDATE_MIGRATION","VALIDATE_MIGRATION_SUCCESS","VALIDATE_MIGRATION_ERROR","VALIDATE_CONNECTION_POOLING","VALIDATE_CONNECTION_POOLING_SUCCESS","VALIDATE_CONNECTION_POOLING_ERROR","VALIDATE_TIMEOUTS","VALIDATE_TIMEOUTS_SUCCESS","VALIDATE_TIMEOUTS_ERROR","VALIDATE_ERROR_HANDLING","VALIDATE_ERROR_HANDLING_SUCCESS","VALIDATE_ERROR_HANDLING_ERROR","VALIDATE_POLP","VALIDATE_POLP_SUCCESS","VALIDATE_POLP_ERROR","parseJSON","response","Promise","resolve","reject","json","then","status","ok","catch","e","request","url","options","headers","Headers","Accept","content-type","fetch","objectSpread","error","requestWithStatus","login","history","dispatch","method","mode","body","JSON","stringify","loginSuccess","push","loginFail","register","logout","token","Authorization","concat","loggedOut","updatePrefs","preferences","updatedPreferences","info","auth_token","savePrefs","failSavePrefs","checkAdminStatus","console","log","beginAdminCheck","Error","checkAdminReturn","adminSuccess","adminFail","type","types","mongoGrey","grey","AccountPanel","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","bind","assertThisInitialized","userActions","_this2","_this$props","classes","LoginLogout","Link","style","textDecoration","Button_default","className","buttonStyle","onClick","RegisterName","name","AdminButton","isAdmin","clickAdmin","root","compose","withRouter","withStyles","theme","margin","spacing","unit","height","color","background","alignItems","bindActionCreators","toggleDrawer","clearError","key","mongo","green","styles","borderBottom","drawer","display","appbar","width","justifyContent","flexFlow","typography","textAlign","fontSize","fontWeight","lineHeight","marginLeft","fontFamily","leaf","img","misc","miscActions","IconButton_default","Search_default","Typography_default","id","src","alt","components_AccountPanel","viewMovie","receivedMovies","receivedSearchResults","movieDetail","movie","fetchMovies","fetchMoviesError","message","searchMovies","subfield","search","query","useFacets","arguments","length","undefined","encodedSearch","encodeURI","searchByFacet","searchMoviesError","searchCountries","countries","split","map","elem","trim","join","receivedCountryResults","titles","searchCountriesError","receivedMovieByID","fetchMovieByID","replace","fetchMovieByIDError","beginPaging","paginate","currState","currPage","filters","useFacet","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","keys","reduce","acc","curr","toConsumableArray","includes","abrupt","receivedPagination","stop","_x","apply","currentMovies","_id","movies","filter","page","facets","submitComment","movieID","comment","movie_id","receivedCommentSubmissionOk","comments","editComment","commentID","update","comment_id","updated_comment","receivedCommentUpdateOk","deleteComment","applyFacetFilter","facet","payload","ErrorsDiv","backgroundColor","dismiss","msg","Errors","errors","errMsgs","components_ErrorsDiv","Fragment","movieActions","tile","borderRadius","flexDirection","alignSelf","title","infoContainer","year","padding","marginRight","rating","cast","imdb","scoreBackground","MovieTile","handleClick","imgError","document","getElementById","ctx","parentNode","getContext","font","fillStyle","fillText","drawImage","score","castText","poster","onLoad","imgEvent","onError","rated","checked","label","Facets","handleRatingFacetSelection","event","metacritic","handleRuntimeFacetSelection","runtime","Infinity","ratingFacet","runtimeFacet","fn","FormGroup_default","row","FormControlLabel_default","control","Checkbox_default","default","facetFilters","onChange","value","formGroup","count","_this3","_ref$movies","searchByQueryAndPage","which","encodedQuery","encodeURIComponent","res","searchByFacetAndPage","assert","expected","actual","beginTicketValidation","ticket","genRandomUser","Math","random","toString","substr","email","password","deleteUser","getMovie","improperResponse","validateFacetedSearch","canUseFacets","sent","validateFacetedSearchSuccess","t0","validateFacetedSearchError","_canUseFacets","_callee4","facetSearch","facetPagingSearch","_context4","searchFacet","searchFacetPaging","every","_callee2","lengthAssertion","_response$facets","ratingAssertion","runtimeAssertion","_context2","_ref3","_callee3","_response$facets2","_context3","MovieGrid","paging","onScroll","throttle","setState","shouldUseFacet","window","addEventListener","removeEventListener","cancel","total_results","scroll","offsetHeight","pageYOffset","scrollHeight","shownMovies","FetchMovieFailure","searchMovieFailure","components_Facets","GridList_default","cellHeight","gridList","cols","components_MovieTile","loading","CircularProgress_default","flex","flexWrap","alignContent","minHeight","flexBasis","flexGrow","CountryResults","titlesList","idx","li","ul","listStyle","cursor","LoginCard","handleChange","prop","defineProperty","target","handleMouseDownPassword","preventDefault","handleClickShowPasssword","showPassword","handleFocusEmail","emailReadOnly","handleFocusPassword","passwordReadOnly","handleSubmit","form","newUser","FormControl_default","InputLabel_default","htmlFor","Input_default","readOnly","onFocus","autoComplete","endAdornment","InputAdornment_default","position","Email_default","onMouseDown","VisibilityOff_default","Visibility_default","buttonRow","buttonNope","buttonOk","marginTop","input","inputStyle","SignupCard","onSubmit","autoCapitalize","AccountCircle_default","progressBar","boxShadow","& > span","borderTopLeftRadius","borderBottomLeftRadius","backgroundImage","overflow","ratings","bars","ix","normalized","getScoreBackground","displayName","charAt","toUpperCase","slice","stats","total","toLocaleString","Intl","NumberFormat","format","top","ViewModal","handleClose","open","handleReady","video","querySelector","play","autoplay","allow","Modal_default","aria-labelledby","aria-describedby","displayModal","onClose","left","transform","paper","YouTube","videoId","opts","onReady","React","palette","shadows","match","CommentCard","editing","handleUpdate","cid","divComment","innerText","handleDelete","Card_default","card","CardHeader_default","avatar","Avatar_default","aria-label","subheader","date","CardContent_default","ref","contentEditable","editable","text","buttons","buttonDelete","buttonSubmit","red","PostComment","buttonDiv","border","packageRatings","_metacritic","_imdb","votes","_tomatoes","viewer","meter","tomatoes","numReviews","half","minWidth","maxWidth","watchButton","button","director","directorText","plotContainer","plot","skittlesHeader","marginBottom","skittlesContainer","genresSkittles","float","&:hover","castSkittles","writerSkittles","MovieDetail","rain","makeRainTimeout","matrixInterval","handleViewClick","handleSearch","matrix","c","canvas","chinese","Array","from","font_size","columns","drops","fill","setInterval","fillRect","forEach","i","floor","setTimeout","makeRain","scrollTo","onload","matrixCheck","clearTimeout","innerHTML","_this4","components_PostComment","components_CommentCard","getRunTime","directors","fullplot","genres","writers","components_ViewModal","components_RatingBar","params","Account","preferenceMapping","preferred_language","favorite_cast","textPreferences","handleSelect","inputContainer","formControl","_this$props2","loadTextPrefs","buttonSave","accountDelete","preferenceSelection","formLabel","& + $bar","bar","validateConnection","filtersAssertion","moviesAssertion","resultsAssertion","pageAssertion","getMovies","validateConnectionSuccess","validateConnectionError","validateProjection","keysAssertion","searchByCountry","validateProjectionSuccess","validateProjectionError","validateTextAndSubfield","castSearch","textSearch","genreSearch","searchKC","searchSS","searchTalkshow","validateTextAndSubfieldSuccess","validateTextAndSubfieldError","searchByCast","kevinConnolly","searchByText","shawshank","searchByGenre","talkshow","pop","_ref4","validatePaging","castPaging0","castPaging1","genrePaging0","genrePaging5","textPaging0","textPaging7","searchByCastNextPage","searchByGenrePage5","searchByTextPage6","validatePagingSuccess","validatePagingError","_ref5","_callee5","_context5","_ref6","_callee6","_context6","_ref7","_callee7","_context7","validateUserManagement","testUser","registerResponse","duplicateRegisterResponse","loginResponse","validateUserManagementSuccess","validateUserManagementError","validateUserPreferences","favorite_fruit","favorite_number","updatePreferences","validateUserPreferencesSuccess","validateUserPreferencesError","validateGetComments","validateGetCommentsSuccess","validateGetCommentsError","validateCreateUpdateComments","commentOwner","ownerRegisterResponse","ownerAuthToken","otherUser","otherRegisterResponse","otherAuthToken","postC","badC","goodC","commentResponse","firstCommentID","newCommentText","updatedMovie","updatedComment","t1","validateCreateUpdateCommentsSuccess","validateCreateUpdateCommentsError","t2","validateDeleteComments","badResponse","newCommentID","validateDeleteCommentsSuccess","validateDeleteCommentsError","t3","invalid_auth_token","validateUserReport","badReportRequest","goodReportRequest","getUserReport","report","validateUserReportSuccess","validateUserReportError","validateMigration","indexOf","updated_type","validateMigrationSuccess","validateMigrationError","validateConnectionPooling","getPoolSize","pool_size","validateConnectionPoolingSuccess","validateConnectionPoolingError","validateTimeouts","wtimeout","validateTimeoutsSuccess","validateTimeoutsError","validateErrorHandling","checkMovieByIDError","validateErrorHandlingSuccess","validateErrorHandlingError","validatePOLP","getUserInfo","role","validatePOLPSuccess","validatePOLPError","mongoRed","TicketValidator","beginValidating","onClickValidate","ticketName","validationBar","ticketLabel","validationTicketWaiting","ticketValidating","ticketError","ticketErrorMessage","validationTicket","ticketSuccess","lib","copied","copyButton","Status","interval","timeout","startValidation","opacity","readyName","clearInterval","validationActions","playerOne","Connection","components_TicketValidator","validate","validatingConnection","ConnectionError","ConnectionSuccess","ConnectionErrorMessage","Projection","validatingProjection","ProjectionError","ProjectionSuccess","ProjectionErrorMessage","TextAndSubfield","validatingTextAndSubfield","TextAndSubfieldError","TextAndSubfieldSuccess","TextAndSubfieldErrorMessage","Paging","validatingPaging","PagingError","PagingSuccess","PagingErrorMessage","FacetedSearch","validatingFacetedSearch","FacetedSearchError","FacetedSearchSuccess","FacetedSearchErrorMessage","UserManagement","validatingUserManagement","UserManagementError","UserManagementSuccess","UserManagementErrorMessage","UserPreferences","validatingUserPreferences","UserPreferencesError","UserPreferencesSuccess","UserPreferencesErrorMessage","GetComments","validatingGetComments","GetCommentsError","GetCommentsSuccess","GetCommentsErrorMessage","CreateUpdateComments","validatingCreateUpdateComments","CreateUpdateCommentsError","CreateUpdateCommentsSuccess","CreateUpdateCommentsErrorMessage","DeleteComments","validatingDeleteComments","DeleteCommentsError","DeleteCommentsSuccess","DeleteCommentsErrorMessage","UserReport","validatingUserReport","UserReportError","UserReportSuccess","UserReportErrorMessage","Migration","validatingMigration","MigrationError","MigrationSuccess","MigrationErrorMessage","ConnectionPooling","validatingConnectionPooling","ConnectionPoolingError","ConnectionPoolingSuccess","ConnectionPoolingErrorMessage","Timeouts","validatingTimeouts","TimeoutsError","TimeoutsSuccess","TimeoutsErrorMessage","ErrorHandling","validatingErrorHandling","ErrorHandlingError","ErrorHandlingSuccess","ErrorHandlingErrorMessage","POLP","validatingPOLP","POLPError","POLPSuccess","POLPErrorMessage","week1Validations","week2Validations","validations","inner","pixelLeaf","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContentProps","paddingTop","textStroke","textShadow","animation","SubfieldSearch","searchText","selected","defaultValue","handleSelection","fireSearch","whichType","container","TextField_default","placeholder","InputProps","disableUnderline","textFieldRoot","textFieldInput","InputLabelProps","shrink","textFieldFormLabel","RadioGroup_default","group","Radio_default","inputLabelFocused","purple","inputInkbar","&:after","common","white","transition","transitions","create","&:focus","borderColor","radio","AppDrawer","sideList","Divider_default","divider","components_SubfieldSearch","Drawer_default","tabIndex","checkingAdminStatus","fetchReport","fetchingReport","receivedReportSuccess","receivedReportFailure","AdminPanel","reportActions","userList","entry","MainContainer","overflowX","components_Header","components_AppDrawer","components_Errors","routing_ConnectedSwitch","routing_AdminRoute","path","exact","routing_PrivateRoute","initialState","entries_per_page","apiError","fetchMovieFailure","mergeStatisticalFacets","right","combinedBuckets","bucket","applyFacetFilters","filteredMovies","some","action","tempFacetFilters","_action$payload","userErrName","userErrPassword","userErrEmail","fetchMovieErrMsg","searchMovieErrMsg","searchCountriesErrMsg","fetchMovieByIDErrMsg","newState","userErrMsg","findError","localState","serializedState","localStorage","getItem","parse","err","loadState","loaded_prefs","userInfo","hasWeek1Errors","hasWeek2Errors","week1Validating","week2Validating","validateingPOLP","fetching","createHistory","middleware","routerMiddleware","store","createStore","combineReducers","fetches","router","routerReducer","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","thunk","subscribe","setItem","saveState","getState","ReactDOM","es","react_router_redux_es","containers_MainContainer"],"mappings":"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","file":"static/js/main.02d67aeb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mongoleaf.0ebc1843.png\";","module.exports = __webpack_public_path__ + \"static/media/pixelatedLeaf.6c93bd20.svg\";","import { connect } from \"react-redux\"\nimport { Switch } from \"react-router-dom\"\nconst ConnectedSwitch = connect(state => ({\n  location: state.location,\n}))(Switch)\n\nexport default ConnectedSwitch\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\n\nconst PrivateRoute = ({\n  component: Component,\n  redirectRoute,\n  user,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user.loggedIn ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectRoute} />\n        )\n      }\n    />\n  )\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nexport default connect(mapStateToProps)(PrivateRoute)\n","/**\n * Movie actions\n */\nexport const FETCH_MOVIES = \"FETCH_MOVIES\"\nexport const FETCH_MOVIES_FAILURE = \"FETCH_MOVIES_FAILURE\"\nexport const SEARCH_MOVIES = \"SEARCH_MOVIES\"\nexport const SEARCH_MOVIES_FAILURE = \"SEARCH_MOVIES_FAILURE\"\nexport const SEARCH_COUNTRIES = \"SEARCH_COUNTRIES\"\nexport const SEARCH_COUNTRIES_FAILURE = \"SEARCH_COUNTRIES_FAILURE\"\nexport const RECEIVED_COUNTRY_RESULTS = \"RECEIVED_COUNTRY_RESULTS\"\nexport const RECEIVED_MOVIES = \"RECEIVED_MOVIES\"\nexport const MOVIE_DETAIL = \"MOVIE_DETAIL\"\nexport const RECEIVED_SEARCH_RESULTS = \"RECEIVED_SEARCH_RESULTS\"\nexport const FETCH_MOVIE_BY_ID = \"FETCH_MOVIE_BY_ID\"\nexport const FETCH_MOVIE_BY_ID_FAILURE = \"FETCH_MOVIE_BY_ID_FAILURE\"\nexport const RECEIVED_MOVIE_BY_ID = \"RECEIVED_MOVIE_BY_ID\"\nexport const VIEW_MOVIE = \"VIEW_MOVIE\"\nexport const PAGINATE_MOVIES = \"PAGINATE_MOVIES\"\nexport const RECEIVED_PAGINATION = \"RECEIVED_PAGINATION\"\nexport const BEGIN_PAGING = \"BEGIN_PAGING\"\nexport const PROP_FACET_FILTER = \"PROP_FACET_FILTER\"\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\"\nexport const SUBMIT_COMMENT_SUCCESS = \"SUBMIT_COMMENT_SUCCESS\"\nexport const SUBMIT_COMMENT_FAIL = \"SUBMIT_COMMENT_FAIL\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_COMMENT_SUCCESS = \"UPDATE_COMMENT_SUCCESS\"\nexport const UPDATE_COMMENT_FAIL = \"UPDATE_COMMENT_FAIL\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_COMMENT_SUCCESS = \"DELETE_COMMENT_SUCCESS\"\nexport const DELETE_COMMENT_FAIL = \"DELETE_COMMENT_FAIL\"\nexport const CLEAR_ERROR = \"CLEAR_ERROR\"\n\n/**\n * Report Actions\n */\n\nexport const FETCH_USER_REPORT = \"FETCH_USER_REPORT\"\nexport const RECEIVED_USER_REPORT_FAILURE = \"RECEIVED_USER_REPORT_FAILURE\"\nexport const RECEIVED_USER_REPORT_SUCCESS = \"RECEIVED_USER_REPORT_SUCCESS\"\n\n/**\n * Miscellaneous actions\n */\n\nexport const TOGGLE_DRAWER = \"TOGGLE_DRAWER\"\nexport const NO_OP = \"NO_OP\"\n\n/**\n * User actions\n */\n\nexport const LOGIN = \"LOGIN\"\nexport const REGISTER = \"REGISTER\"\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\nexport const LOGOUT = \"LOGOUT\"\nexport const UPDATE_PREFS = \"UPDATE_PREFS\"\nexport const SAVE_PREFS = \"SAVE_PREFS\"\nexport const SAVE_PREFS_SUCCESS = \"SAVE_PREFS_SUCCESS\"\nexport const SAVE_PREFS_FAIL = \"SAVE_PREFS_FAIL\"\nexport const CHECK_ADMIN = \"CHECK_ADMIN\"\nexport const CHECK_ADMIN_SUCCESS = \"CHECK_ADMIN_SUCCESS\"\nexport const CHECK_ADMIN_FAIL = \"CHECK_ADMIN_FAIL\"\n\n/**\n * Validation Actions\n */\nexport const VALIDATING_TICKET = \"VALIDATING_TICKET\"\n\nexport const VALIDATE_CONNECTION = \"VALIDATE_CONNECTION\"\nexport const VALIDATE_CONNECTION_SUCCESS =\n  \"VALIDATE_CONNECTION_SUCCESS\"\nexport const VALIDATE_CONNECTION_ERROR =\n  \"VALIDATE_CONNECTION_ERROR\"\n\nexport const VALIDATE_PROJECTION = \"VALIDATE_PROJECTION\"\nexport const VALIDATE_PROJECTION_SUCCESS =\n  \"VALIDATE_PROJECTION_SUCCESS\"\nexport const VALIDATE_PROJECTION_ERROR =\n  \"VALIDATE_PROJECTION_ERROR\"\n\nexport const VALIDATE_TEXT_AND_SUBFIELD =\n  \"VALIDATE_TEXT_AND_SUBFIELD\"\nexport const VALIDATE_TEXT_AND_SUBFIELD_SUCCESS =\n  \"VALIDATE_TEXT_AND_SUBFIELD_SUCCESS\"\nexport const VALIDATE_TEXT_AND_SUBFIELD_ERROR =\n  \"VALIDATE_TEXT_AND_SUBFIELD_ERROR\"\n\nexport const VALIDATE_PAGING = \"VALIDATE_PAGING\"\nexport const VALIDATE_PAGING_SUCCESS = \"VALIDATE_PAGING_SUCCESS\"\nexport const VALIDATE_PAGING_ERROR = \"VALIDATE_PAGING_ERROR\"\n\nexport const VALIDATE_FACETED_SEARCH = \"VALIDATE_FACETED_SEARCH\"\nexport const VALIDATE_FACETED_SEARCH_SUCCESS =\n  \"VALIDATE_FACETED_SEARCH_SUCCESS\"\nexport const VALIDATE_FACETED_SEARCH_ERROR =\n  \"VALIDATE_FACETED_SEARCH_ERROR\"\n\nexport const VALIDATE_USER_MANAGEMENT = \"VALIDATE_USER_MANAGEMENT\"\nexport const VALIDATE_USER_MANAGEMENT_SUCCESS =\n  \"VALIDATE_USER_MANAGEMENT_SUCCESS\"\nexport const VALIDATE_USER_MANAGEMENT_ERROR =\n  \"VALIDATE_USER_MANAGEMENT_ERROR\"\n\nexport const VALIDATE_USER_PREFERENCES =\n  \"VALIDATE_USER_PREFERENCES\"\nexport const VALIDATE_USER_PREFERENCES_SUCCESS =\n  \"VALIDATE_USER_PREFERENCES_SUCCESS\"\nexport const VALIDATE_USER_PREFERENCES_ERROR =\n  \"VALIDATE_USER_PREFERENCES_ERROR\"\n\nexport const VALIDATE_GET_COMMENTS = \"VALIDATE_GET_COMMENTS\"\nexport const VALIDATE_GET_COMMENTS_SUCCESS =\n  \"VALIDATE_GET_COMMENTS_SUCCESS\"\nexport const VALIDATE_GET_COMMENTS_ERROR =\n  \"VALIDATE_GET_COMMENTS_ERROR\"\n\nexport const VALIDATE_CREATE_UPDATE_COMMENTS =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS\"\nexport const VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS\"\nexport const VALIDATE_CREATE_UPDATE_COMMENTS_ERROR =\n  \"VALIDATE_CREATE_UPDATE_COMMENTS_ERROR\"\n\nexport const VALIDATE_DELETE_COMMENTS = \"VALIDATE_DELETE_COMMENTS\"\nexport const VALIDATE_DELETE_COMMENTS_SUCCESS =\n  \"VALIDATE_DELETE_COMMENTS_SUCCESS\"\nexport const VALIDATE_DELETE_COMMENTS_ERROR =\n  \"VALIDATE_DELETE_COMMENTS_ERROR\"\n\nexport const VALIDATE_USER_REPORT = \"VALIDATE_USER_REPORT\"\nexport const VALIDATE_USER_REPORT_SUCCESS =\n  \"VALIDATE_USER_REPORT_SUCCESS\"\nexport const VALIDATE_USER_REPORT_ERROR =\n  \"VALIDATE_USER_REPORT_ERROR\"\n\nexport const VALIDATE_MIGRATION = \"VALIDATE_MIGRATION\"\nexport const VALIDATE_MIGRATION_SUCCESS =\n  \"VALIDATE_MIGRATION_SUCCESS\"\nexport const VALIDATE_MIGRATION_ERROR = \"VALIDATE_MIGRATION_ERROR\"\n\nexport const VALIDATE_CONNECTION_POOLING =\n  \"VALIDATE_CONNECTION_POOLING\"\nexport const VALIDATE_CONNECTION_POOLING_SUCCESS =\n  \"VALIDATE_CONNECTION_POOLING_SUCCESS\"\nexport const VALIDATE_CONNECTION_POOLING_ERROR =\n  \"VALIDATE_CONNECTION_POOLING_ERROR\"\n\nexport const VALIDATE_TIMEOUTS = \"VALIDATE_TIMEOUTS\"\nexport const VALIDATE_TIMEOUTS_SUCCESS =\n  \"VALIDATE_TIMEOUTS_SUCCESS\"\nexport const VALIDATE_TIMEOUTS_ERROR = \"VALIDATE_TIMEOUTS_ERROR\"\n\nexport const VALIDATE_ERROR_HANDLING = \"VALIDATE_ERROR_HANDLING\"\nexport const VALIDATE_ERROR_HANDLING_SUCCESS =\n  \"VALIDATE_ERROR_HANDLING_SUCCESS\"\nexport const VALIDATE_ERROR_HANDLING_ERROR =\n  \"VALIDATE_ERROR_HANDLING_ERROR\"\n\nexport const VALIDATE_POLP = \"VALIDATE_POLP\"\nexport const VALIDATE_POLP_SUCCESS = \"VALIDATE_POLP_SUCCESS\"\nexport const VALIDATE_POLP_ERROR = \"VALIDATE_POLP_ERROR\"\n","/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON, status from the response\n */\nfunction parseJSON(response) {\n  return new Promise((resolve, reject) => {\n    response\n      .json()\n      .then(json => {\n        resolve({\n          status: response.status,\n          ok: response.ok,\n          json,\n        })\n      })\n      .catch(e => reject(e))\n  })\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {Promise}           The request promise\n */\nexport default function request(url, options) {\n  const headers = new Headers({\n    Accept: \"application/json\",\n    \"content-type\": \"application/json\",\n  })\n  return new Promise((resolve, reject) => {\n    fetch(url, { ...options, headers })\n      .then(parseJSON)\n      .then(response => {\n        if (response.ok) {\n          return resolve(response.json)\n        }\n        // extract the error from the server's json\n        return reject(response.json)\n      })\n      .catch(error =>\n        reject({\n          error,\n        }),\n      )\n  })\n}\n\nexport function requestWithStatus(url, options) {\n  return new Promise((resolve, reject) => {\n    fetch(url, options)\n      .then(parseJSON)\n      .then(response => {\n        let { json, status, ok } = response\n        if (response.ok) {\n          return resolve({ json, status, ok })\n        }\n        // extract the error from the server's json\n        return reject({ json, status, ok })\n      })\n      .catch(error =>\n        reject({\n          error,\n        }),\n      )\n  })\n}\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nexport function login(json, history) {\n  return dispatch => {\n    return request(`/api/v1/user/login`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(json),\n    })\n      .then(user => dispatch(loginSuccess(user)))\n      .then(history.push(\"/\"))\n      .catch(error => dispatch(loginFail({ error })))\n  }\n}\n\nexport function register(json, history) {\n  return dispatch => {\n    return request(`/api/v1/user/register`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(json),\n    })\n      .then(user => {\n        dispatch(loginSuccess(user))\n      })\n      .then(history.push(\"/\"))\n      .catch(error => {\n        return dispatch(loginFail({ error }))\n      })\n  }\n}\n\nexport function logout(token) {\n  return dispatch => {\n    return request(`/api/v1/user/logout`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n    })\n      .then(dispatch(loggedOut()))\n      .catch(dispatch(loggedOut()))\n  }\n}\n\nexport function updatePrefs(preferences, user) {\n  return dispatch => {\n    let updatedPreferences = { ...user.info.preferences, ...preferences }\n    return request(`/api/v1/user/update-preferences`, {\n      method: \"PUT\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ preferences: updatedPreferences }),\n    })\n      .then(dispatch(savePrefs(preferences)))\n      .catch(e => dispatch(failSavePrefs()))\n  }\n}\n\nexport function checkAdminStatus(user) {\n  console.log(\"check admin status beginning function\")\n  return dispatch => {\n    dispatch(beginAdminCheck())\n    return request(`/api/v1/user/admin`, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n        \"content-type\": \"application/json\",\n      },\n    })\n      .then(json => checkAdminReturn(json))\n      .then(() => dispatch(adminSuccess()))\n      .catch(() => dispatch(adminFail()))\n  }\n}\n\nfunction checkAdminReturn(json) {\n  if (!json.status === \"success\") {\n    throw new Error(\"not authorized\")\n  }\n  return json\n}\n\nexport function beginAdminCheck() {\n  return { type: types.CHECK_ADMIN }\n}\n\nexport function adminSuccess() {\n  console.log(\"admin check ok\")\n  return { type: types.CHECK_ADMIN_SUCCESS }\n}\n\nexport function adminFail() {\n  console.log(\"admin check fail\")\n  return { type: types.CHECK_ADMIN_FAIL }\n}\n\nexport function savePrefs(preferences) {\n  return { type: types.SAVE_PREFS_SUCCESS, preferences }\n}\n\nexport function failSavePrefs() {\n  return {\n    type: types.SAVE_PREFS_FAIL,\n    error: \"Failed to save user preference\",\n  }\n}\n\nexport function loggedOut() {\n  return { type: types.LOGOUT }\n}\n\nexport function loginSuccess(user) {\n  return { type: types.LOGIN_SUCCESS, user }\n}\n\nexport function loginFail(error) {\n  return { type: types.LOGIN_FAIL, error }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { Link } from \"react-router-dom\"\nimport Button from \"@material-ui/core/Button\"\nimport grey from \"@material-ui/core/colors/grey\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as userActions from \"../actions/userActions\"\nimport { withRouter } from \"react-router-dom\"\n\nconst mongoGrey = grey[900]\n\nconst styles = theme => ({\n  buttonStyle: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: mongoGrey,\n  },\n  root: {\n    alignItems: \"center\",\n  },\n})\n\nclass AccountPanel extends Component {\n  constructor(props) {\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  logout() {\n    this.props.userActions.logout(\n      this.props.user.auth_token,\n      this.props.history\n    )\n  }\n\n  clickAdmin() {\n    this.props.userActions.checkAdminStatus(this.props.user)\n  }\n\n  render() {\n    const { classes, user } = this.props\n    const LoginLogout = !user.loggedIn ? (\n      <Link to=\"/login\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>log in</Button>\n      </Link>\n    ) : (\n      <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle} onClick={this.logout}>\n          logout\n        </Button>\n      </Link>\n    )\n\n    const RegisterName = !user.loggedIn ? (\n      <Link to=\"/signup\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>sign up</Button>\n      </Link>\n    ) : (\n      <Link to=\"/account\" style={{ textDecoration: \"none\" }}>\n        <Button className={classes.buttonStyle}>{user.info.name}</Button>\n      </Link>\n    )\n    const AdminButton = user.loggedIn &&\n      user.info.isAdmin && (\n        <Link to=\"/admin\" style={{ textDecoration: \"none\" }}>\n          <Button\n            className={classes.buttonStyle}\n            onClick={() => this.clickAdmin()}\n          >\n            admin\n          </Button>\n        </Link>\n      )\n    return (\n      <div className={classes.root}>\n        {AdminButton}\n        <Link to=\"/status\" style={{ textDecoration: \"none\" }}>\n          <Button className={classes.buttonStyle}>status</Button>\n        </Link>\n        {LoginLogout}\n        {RegisterName}\n      </div>\n    )\n  }\n}\n\nAccountPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AccountPanel)\n","import * as types from \"./actionTypes\"\n\nexport function toggleDrawer() {\n  return { type: types.TOGGLE_DRAWER }\n}\n\nexport function clearError(key) {\n  return { type: types.CLEAR_ERROR, key }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\"\nimport AccountPanel from \"./AccountPanel\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport { Link } from \"react-router-dom\"\nimport green from \"@material-ui/core/colors/green\"\nimport leaf from \"../assets/mongoleaf.png\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\n\nconst mongo = green[500]\n\nconst styles = {\n  root: {\n    borderBottom: \"1px solid gray\",\n  },\n  drawer: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    color: \"white\",\n  },\n  appbar: {\n    display: \"flex\",\n    height: \"120px\",\n    width: \"100vw\",\n    background: \"#000000\",\n    justifyContent: \"space-around\",\n    flexFlow: \"wrap\",\n    alignItems: \"center\",\n  },\n  typography: {\n    textAlign: \"center\",\n    fontSize: \"3em\",\n    color: mongo,\n    fontWeight: \"600\",\n    lineHeight: \"1.125\",\n    marginLeft: \"270px\",\n    fontFamily:\n      \"BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  leaf: {\n    img: {\n      height: \"3em\",\n    },\n  },\n}\n\nfunction Header(props) {\n  const { classes } = props\n  return (\n    <div className={classes.root}>\n      <div className={classes.appbar}>\n        <IconButton\n          className={classes.drawer}\n          onClick={props.miscActions.toggleDrawer}\n        >\n          <SearchIcon />\n        </IconButton>\n        <Typography className={classes.typography} type=\"title\">\n          <Link style={{ textDecoration: \"none\", color: mongo }} to=\"/\">\n            mflix\n            <img\n              id=\"mongoleaf\"\n              src={leaf}\n              width=\"40px\"\n              height=\"40px\"\n              alt=\"leaf\"\n            />\n          </Link>\n        </Typography>\n        <AccountPanel />\n      </div>\n    </div>\n  )\n}\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc }) {\n  return {\n    misc,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    miscActions: bindActionCreators(miscActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Header)\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nexport function viewMovie() {\n  return { type: types.VIEW_MOVIE }\n}\n\nexport function receivedMovies(json) {\n  return { type: types.RECEIVED_MOVIES, ...json }\n}\n\nexport function receivedSearchResults(json) {\n  return { type: types.RECEIVED_SEARCH_RESULTS, ...json }\n}\n\nexport function movieDetail(movie) {\n  return { type: types.MOVIE_DETAIL, movie: movie }\n}\n\nexport function fetchMovies() {\n  return dispatch => {\n    return fetch(`/api/v1/movies/`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(response => response.json())\n      .then(json => dispatch(receivedMovies(json)))\n      .catch(e => dispatch(fetchMoviesError(e.message)))\n  }\n}\n\nexport function searchMovies(subfield, search, history, useFacets = false) {\n  let query\n  let encodedSearch = encodeURI(search)\n  switch (subfield) {\n    case \"genre\":\n      query = `genre=${encodedSearch}`\n      break\n    case \"cast\":\n      query = `cast=${encodedSearch}`\n      break\n    default:\n      query = `text=${encodedSearch}`\n  }\n  if (useFacets && subfield === \"cast\") {\n    return searchByFacet(query, history)\n  }\n  return dispatch => {\n    return request(`/api/v1/movies/search?${query}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedSearchResults(json)))\n      .then(() => history.push(\"/\"))\n      .catch(e => dispatch(searchMoviesError(subfield)))\n  }\n}\n\nexport function searchByFacet(query, history) {\n  return dispatch => {\n    return request(`/api/v1/movies/facet-search?${query}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedSearchResults(json)))\n      .then(() => history.push(\"/\"))\n      .catch(e => dispatch(searchMoviesError(e.message)))\n  }\n}\n\nexport function searchCountries(search, history) {\n  return dispatch => {\n    let countries = search.split(\",\").map(elem => `countries=${elem.trim()}`)\n    let uri = `/api/v1/movies/countries?${encodeURI(countries.join(\"&\"))}`\n\n    return request(uri, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json => dispatch(receivedCountryResults(json.titles)))\n      .then(() => history.push(\"/country-results\"))\n      .catch(e => dispatch(searchCountriesError(e.message)))\n  }\n}\n\nexport function receivedCountryResults(titles) {\n  return { type: types.RECEIVED_COUNTRY_RESULTS, titles }\n}\n\nexport function searchCountriesError(e) {\n  return {\n    type: types.SEARCH_COUNTRIES_FAILURE,\n    error: `Unable to fetch movies from this country`,\n  }\n}\n\nexport function receivedMovieByID(json) {\n  return { type: types.RECEIVED_MOVIE_BY_ID, movie: json.movie }\n}\n\nexport function fetchMovieByID(id, history) {\n  return dispatch => {\n    return fetch(`/api/v1/movies/id/${id}`, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(response => response.json())\n      .then(json => dispatch(receivedMovieByID(json)))\n      .then(() => history.replace(`/movies/id/${id}`))\n      .catch(e => dispatch(fetchMovieByIDError(e.message)))\n  }\n}\n\nexport function fetchMoviesError(e) {\n  return {\n    type: types.FETCH_MOVIES_FAILURE,\n    error: `Unable to fetch movies`,\n  }\n}\n\nexport function fetchMovieByIDError(e) {\n  return {\n    type: types.FETCH_MOVIE_BY_ID_FAILURE,\n    error: `Unable to fetch the movie by _id`,\n  }\n}\n\nexport function searchMoviesError(e) {\n  return {\n    type: types.SEARCH_MOVIES_FAILURE,\n    error: `Unable to search for ` + e + `.`,\n  }\n}\n\nexport function beginPaging() {\n  return { type: types.BEGIN_PAGING }\n}\n\nexport function paginate(currState, currPage, filters, useFacet = false) {\n  return async dispatch => {\n    let query\n    let url\n    if (Object.keys(filters).length !== 0) {\n      query = Object.keys(filters).reduce(\n        (acc, curr) => [...acc, `${curr}=${filters[curr]}`],\n        [],\n      )\n      query = \"?\" + query.join(\"&\") + `&page=${currPage + 1}`\n    } else {\n      query = `?page=${currPage + 1}`\n    }\n\n    if (Object.keys(filters).includes(\"cast\") && useFacet ) {\n      url = `/api/v1/movies/facet-search${encodeURI(query)}`\n    } else {\n      url = `/api/v1/movies/search${encodeURI(query)}`\n    }\n    return request(url, {\n      method: \"GET\",\n      mode: \"cors\",\n    })\n      .then(json =>\n        dispatch(receivedPagination(currState, currPage, json, dispatch)),\n      )\n      .catch(e => dispatch(fetchMoviesError(e.message)))\n  }\n}\n\nexport function receivedPagination(currState, currPage, json, dispatch) {\n  let currentMovies = currState.map(elem => elem._id)\n  let movies = json.movies.filter(movie => !currentMovies.includes(movie._id))\n  movies = [...currState, ...movies]\n  let page = movies.length > currState.length ? json.page : currPage\n  if (page !== currPage) {\n    return {\n      type: types.RECEIVED_PAGINATION,\n      ...json,\n      movies,\n      page,\n      facets: json.facets,\n    }\n  } else {\n    return { type: types.NO_OP }\n  }\n}\n\nexport function submitComment(movieID, comment, token) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        movie_id: movieID,\n        comment,\n      }),\n    })\n      .then(json => dispatch(receivedCommentSubmissionOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function receivedCommentSubmissionOk(json) {\n  return { type: types.SUBMIT_COMMENT_SUCCESS, comments: json.comments }\n}\n\nexport function editComment(commentID, update, token, movie_id) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"PUT\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        comment_id: commentID,\n        updated_comment: update,\n        movie_id,\n      }),\n    })\n      .then(json => dispatch(receivedCommentUpdateOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function receivedCommentUpdateOk(json) {\n  return { type: types.UPDATE_COMMENT_SUCCESS, comments: json.comments }\n}\n\nexport function deleteComment(comment_id, token, movie_id) {\n  return dispatch => {\n    return request(`/api/v1/movies/comment`, {\n      method: \"DELETE\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        comment_id,\n        movie_id,\n      }),\n    })\n      .then(json => dispatch(receivedCommentUpdateOk(json)))\n      .catch(e => console.log(e))\n  }\n}\n\nexport function applyFacetFilter(facet, key, filter) {\n  return { type: types.PROP_FACET_FILTER, payload: { facet, key, filter } }\n}\n","import React from \"react\";\n\nconst ErrorsDiv = props => {\n  return (\n    <div\n      style={{\n        backgroundColor: \"black\",\n        color: \"white\",\n        textAlign: \"center\"\n      }}\n    >\n      <i\n        className=\"material-icons red\"\n        onClick={() => props.dismiss(props.error)}\n      >\n        cancel\n      </i>\n      {props.msg}\n    </div>\n  );\n};\n\nexport default ErrorsDiv;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as movieActions from \"../actions/movieActions\";\nimport { clearError } from \"../actions/miscActions\";\nimport { compose } from \"redux\";\nimport ErrorsDiv from \"./ErrorsDiv\";\n\nclass Errors extends Component {\n  render() {\n    const { errors } = this.props;\n\n    let errMsgs = Object.keys(errors)\n      .filter(key => errors[key] !== \"\")\n      .map(key => {\n        return (\n          <div\n            key={key}\n            style={{\n              backgroundColor: \"black\",\n              color: \"white\",\n              textAlign: \"center\"\n            }}\n          >\n            <ErrorsDiv\n              msg={errors[key]}\n              dismiss={this.props.clearError}\n              error={key}\n            />\n          </div>\n        );\n      });\n    return <React.Fragment>{errMsgs}</React.Fragment>;\n  }\n}\n\nfunction mapStateToProps({ errors }) {\n  return {\n    errors\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n    clearError: bindActionCreators(clearError, dispatch)\n  };\n}\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Errors);\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport green from \"@material-ui/core/colors/green\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\n\nconst mongo = green[500]\n\nconst getScoreBackground = score => {\n  if (score >= 8) {\n    return { backgroundColor: mongo }\n  }\n  if (score >= 6) {\n    return { backgroundColor: \"#3273dc\" }\n  }\n  if (score) {\n    return { backgroundColor: \"red\" }\n  }\n  return { backgroundColor: \"rgba(0, 0, 0, 0)\" }\n}\n\nconst styles = {\n  tile: {\n    display: \"inline-flex\",\n    background: \"#242424\",\n    margin: \"1vw\",\n    height: \"675px\",\n    width: \"320px\",\n    borderRadius: 4,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  img: {\n    margin: \"15px\",\n    alignSelf: \"flex-center\",\n    width: \"90%\",\n    height: \"400px\",\n  },\n  title: {\n    color: mongo,\n    fontWeight: 320,\n    lineHeight: 1.125,\n    fontSize: \"1.125em\",\n    margin: \"10px\",\n    fontFamily:\n      \"BlinkMacSystemFont,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  infoContainer: {\n    margin: \"15px\",\n  },\n  year: {\n    borderRadius: \"100%\",\n    background: \"#363636\",\n    padding: \".25em .75em\",\n    marginRight: \"4px\",\n    color: \"#E0E0E0\",\n    fontSize: \".9rem\",\n    fontFamily:\n      \"Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  rating: {\n    borderRadius: \"290486px\",\n    background: \"#ffdd57\",\n    padding: \".25em .75em\",\n    marginLeft: \"4px\",\n    color: \"black\",\n    fontSize: \".9rem\",\n    fontFamily:\n      \"Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Helvetica,Arial,sans-serif\",\n  },\n  cast: {\n    color: \"#E0E0E0\",\n    padding: \"0 15px\",\n    fontWeight: 300,\n    lineHeight: 1.2,\n    fontSize: \"18px\",\n  },\n  imdb: {\n    color: \"#e0e0e0\",\n    fontSize: \"14px\",\n  },\n  scoreBackground: {\n    color: \"#e0e0e0\",\n    padding: \"0 10px\",\n    borderRadius: \"4px\",\n    fontSize: \"14px\",\n  },\n}\n\nclass MovieTile extends Component {\n  constructor(props) {\n    super(props)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  imgEvent({ id, imgError }) {\n    let img = document.getElementById(id)\n    let canvas = img.parentNode\n    let ctx = canvas.getContext(\"2d\")\n    if (imgError) {\n      ctx.font = \"20pt Calibri\"\n      ctx.textAlign = \"center\"\n      ctx.fillStyle = \"white\"\n      ctx.fillText(\"Image failed to load\", 150, 222)\n    } else {\n      ctx.drawImage(img, 0, 0, 300, 444)\n    }\n  }\n\n  handleClick() {\n    this.props.movieActions.movieDetail(this.props.movie._id)\n  }\n  render() {\n    const { classes, movie } = this.props\n    const castText = movie.cast ? `Starring: ${movie.cast.join(\", \")}` : \"\"\n    const imdb =\n      movie.imdb && movie.imdb.rating ? `IMDB: ${movie.imdb.rating} / 10` : \"\"\n    return (\n      <div className={classes.tile} onClick={this.handleClick}>\n        <Link style={{ textDecoration: \"none\" }} to={`movies/id/${movie._id}`}>\n          <canvas width={300} height={444} className={classes.img}>\n            <img\n              id={movie._id}\n              className={classes.img}\n              src={movie.poster || \"\"}\n              alt={movie.title}\n              title={movie.title}\n              onLoad={() => this.imgEvent({ id: movie._id, imgError: false })}\n              onError={() => this.imgEvent({ id: movie._id, imgError: true })}\n            />\n          </canvas>\n          <p className={classes.title}>{movie.title}</p>\n          <div className={classes.infoContainer}>\n            <span className={classes.year}>{movie.year}</span>\n            {movie.rated && (\n              <span className={classes.rating}>{movie.rated}</span>\n            )}\n          </div>\n          <p className={classes.cast}>{castText}</p>\n          <div>\n            {imdb && (\n              <span\n                className={classes.scoreBackground}\n                style={getScoreBackground(movie.imdb.rating)}\n              >\n                {imdb}\n              </span>\n            )}\n          </div>\n        </Link>\n      </div>\n    )\n  }\n}\n\nMovieTile.propTypes = {\n  movie: PropTypes.object.isRequired,\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    () => ({}),\n    mapDispatchToProps\n  )\n)(MovieTile)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport FormGroup from \"@material-ui/core/FormGroup\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Checkbox from \"@material-ui/core/Checkbox\"\nimport green from \"@material-ui/core/colors/green\"\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  facets: {\n    alignItems: \"center\",\n    background: \"black\",\n    color: \"white\",\n  },\n  checked: {\n    color: green[500],\n  },\n  label: {\n    color: green[500],\n  },\n}\n\nclass Facets extends Component {\n  constructor(props) {\n    super(props)\n    this.ratingFacet = this.ratingFacet.bind(this)\n    this.runtimeFacet = this.runtimeFacet.bind(this)\n    this.handleRatingFacetSelection = this.handleRatingFacetSelection.bind(this)\n    this.handleRuntimeFacetSelection = this.handleRuntimeFacetSelection.bind(\n      this\n    )\n  }\n  formGroup(facet, elem, label, fn) {\n    return (\n      <FormGroup row key={elem._id}>\n        <FormControlLabel\n          classes={{ label: this.props.classes.label }}\n          control={\n            <Checkbox\n              classes={{ default: this.props.classes.label }}\n              checked={this.props.facetFilters[facet][elem._id]}\n              onChange={fn(elem._id)}\n              value={elem._id + \"\"}\n            />\n          }\n          label={label}\n        />\n      </FormGroup>\n    )\n  }\n  runtimeFacet() {\n    const { classes } = this.props\n    const { runtime } = this.props.facets\n    return (\n      <div className={classes.root}>\n        <h4 style={{ color: \"white\", marginRight: \"20px\" }}>Runtime:</h4>\n        {runtime.map(elem => {\n          switch (elem._id + \"\") {\n            case \"0\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `0-59 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"60\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `60-89 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"90\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `90-119 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"120\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `120-180 (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            case \"180\":\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `180+ (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n            default:\n              return this.formGroup(\n                \"runtime\",\n                elem,\n                `other (${elem.count})`,\n                this.handleRuntimeFacetSelection\n              )\n          }\n        })}\n      </div>\n    )\n  }\n  ratingFacet() {\n    const { classes } = this.props\n    const { rating } = this.props.facets\n    return (\n      <div className={classes.root}>\n        <h4 style={{ color: \"white\", marginRight: \"20px\" }}>Rating:</h4>\n        {rating.map(elem => {\n          switch (elem._id + \"\") {\n            case \"0\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `0-49 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"50\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `50-69 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"70\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `70-89 (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            case \"90\":\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `90+ (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n            default:\n              return this.formGroup(\n                \"rating\",\n                elem,\n                `other (${elem.count})`,\n                this.handleRatingFacetSelection\n              )\n          }\n        })}\n      </div>\n    )\n  }\n  handleRatingFacetSelection = name => event => {\n    let filter\n    switch (name + \"\") {\n      case \"0\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 0 && movie.metacritic < 50)\n        break\n      case \"50\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 50 && movie.metacritic < 70)\n        break\n\n      case \"70\":\n        filter = movie =>\n          movie.metacritic && (movie.metacritic >= 70 && movie.metacritic < 90)\n        break\n      case \"90\":\n        filter = movie => movie.metacritic && movie.metacritic >= 90\n        break\n\n      default:\n        filter = movie =>\n          !movie.metacritic || typeof movie.metacritic === \"string\"\n    }\n    this.props.movieActions.applyFacetFilter(\"rating\", name, filter)\n  }\n\n  handleRuntimeFacetSelection = name => event => {\n    let filter\n    switch (name + \"\") {\n      case \"0\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 0 && movie.runtime < 60)\n        break\n      case \"60\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 60 && movie.runtime < 90)\n        break\n\n      case \"90\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 90 && movie.runtime < 120)\n        break\n      case \"120\":\n        filter = movie =>\n          movie.runtime && (movie.runtime >= 120 && movie.runtime < 180)\n        break\n\n      case \"180\":\n        filter = movie => movie.runtime && movie.runtime >= 180\n        break\n\n      default:\n        filter = movie =>\n          !movie.runtime || (!movie.runtime < 0 && movie.runtime <= Infinity)\n    }\n    this.props.movieActions.applyFacetFilter(\"runtime\", name, filter)\n  }\n\n  render() {\n    const { classes } = this.props\n    const ratingFacet = this.ratingFacet()\n    const runtimeFacet = this.runtimeFacet()\n    return (\n      <div>\n        <div className={classes.facets}>\n          {Object.keys(this.props.facets.rating).length > 0 && ratingFacet}\n        </div>\n        <div className={classes.facets}>\n          {Object.keys(this.props.facets.runtime).length > 0 && runtimeFacet}\n        </div>\n      </div>\n    )\n  }\n}\n\nFacets.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc, movies: { facets, facetFilters } }) {\n  return {\n    facets,\n    facetFilters,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Facets)\n","import request, { requestWithStatus } from \"../request\"\nimport * as types from \"../actionTypes\"\n\nexport const searchByQueryAndPage = (which, query, page) => {\n  const encodedQuery = encodeURIComponent(query)\n  return request(\n    `/api/v1/movies/search?${which}=${encodedQuery}&page=${page}`,\n    {\n      method: \"GET\",\n      mode: \"cors\",\n    },\n  )\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const checkMovieByIDError = () => {\n  return requestWithStatus(`/api/v1/movies/id/foobar`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const searchByFacetAndPage = (query, page) => {\n  const encodedQuery = encodeURIComponent(query)\n  return request(\n    `/api/v1/movies/facet-search?cast=${encodedQuery}&page=${page}`,\n    {\n      method: \"GET\",\n      mode: \"cors\",\n    },\n  )\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const assert = (expected, actual) => expected === actual\n\nexport function beginTicketValidation(ticket) {\n  return { type: types.VALIDATING_TICKET, ticket }\n}\n\nexport const genRandomUser = () => ({\n  name: Math.random()\n    .toString(36)\n    .substr(2, 9),\n  email: `${Math.random()\n    .toString(36)\n    .substr(2, 9)}@${Math.random()\n    .toString(36)\n    .substr(2, 5)}.${Math.random()\n    .toString(36)\n    .substr(2, 3)}`,\n  password: `${Math.random()\n    .toString(36)\n    .substr(2, 9)}`,\n})\n\nexport const deleteUser = (token, user) => {\n  return requestWithStatus(`/api/v1/user/delete`, {\n    method: \"DELETE\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({ password: user.password }),\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const logout = user => {\n  return requestWithStatus(`/api/v1/user/logout`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${user}`,\n      \"content-type\": \"application/json\",\n    },\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport const login = user => {\n  return requestWithStatus(`/api/v1/user/login`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n\nexport const register = user => {\n  return requestWithStatus(`/api/v1/user/register`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n\nexport function getMovie(id) {\n  return request(`/api/v1/movies/id/${id}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nexport function submitComment(movieID, comment, token) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      movie_id: movieID,\n      comment,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n\nexport function editComment(commentID, update, token, movie_id) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"PUT\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      comment_id: commentID,\n      updated_comment: update,\n      movie_id,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n\nexport function deleteComment(comment_id, token, movie_id) {\n  return requestWithStatus(`/api/v1/movies/comment`, {\n    method: \"DELETE\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      comment_id,\n      movie_id,\n    }),\n  })\n    .then(json => json)\n    .catch(e => e)\n}\n","import * as types from \"../actionTypes\"\nimport {\n  searchByFacetAndPage,\n  assert,\n  beginTicketValidation,\n} from \"./validationHelpers\"\n\nconst improperResponse = new Error(\n  \"Did not receive the proper response when performing a faceted search\",\n)\n\nexport function validateFacetedSearch() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"FacetedSearch\"))\n    try {\n      if (await canUseFacets()) {\n        dispatch(validateFacetedSearchSuccess())\n      } else {\n        throw improperResponse\n      }\n    } catch (e) {\n      return dispatch(validateFacetedSearchError(e))\n    }\n  }\n}\n\nexport async function canUseFacets() {\n  try {\n    let facetSearch = await searchFacet()\n    let facetPagingSearch = await searchFacetPaging()\n    if ([facetSearch, facetPagingSearch].every(elem => elem)) {\n      return true\n    }\n  } catch (e) {\n    throw e\n  }\n\n}\n\nexport function validateFacetedSearchSuccess() {\n  return { type: types.VALIDATE_FACETED_SEARCH_SUCCESS }\n}\n\nexport function validateFacetedSearchError(error) {\n  return { type: types.VALIDATE_FACETED_SEARCH_ERROR, error }\n}\n\n/**\n * Ticket 5 internal functions\n */\n\nconst searchFacet = async () => {\n  try {\n    let response = await searchByFacetAndPage(\"Denzel Washington\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let { rating, runtime } = response.facets\n    let ratingAssertion = assert(4, rating.length)\n    let runtimeAssertion = assert(3, runtime.length)\n    if (lengthAssertion && ratingAssertion && runtimeAssertion) {\n      return true\n    } else {\n      throw improperResponse\n    }\n  } catch (e) {\n      throw improperResponse\n  }\n}\n\nconst searchFacetPaging = async () => {\n  try {\n    let response = await searchByFacetAndPage(\"Morgan Freeman\", 2)\n    let lengthAssertion = assert(8, response.movies.length)\n    let { rating, runtime } = response.facets\n    let ratingAssertion = assert(3, rating.length)\n    let runtimeAssertion = assert(3, runtime.length)\n    if (lengthAssertion && ratingAssertion && runtimeAssertion) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when performing a faceted search with paging\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when performing a faceted search with paging\",\n    )\n  }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport throttle from \"lodash.throttle\"\nimport GridList from \"@material-ui/core/GridList\"\nimport MovieTile from \"../components/MovieTile\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport Facets from \"../components/Facets\"\nimport { canUseFacets } from \"../actions/validationActions/validateFacetedSearch\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  gridList: {\n    height: \"100%\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    width: \"100vw\",\n    flexBasis: 0,\n    flexGrow: 0,\n  },\n  loading: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignItems: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nclass MovieGrid extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      paging: false,\n      movies: [],\n      useFacet: false\n    }\n    this.onScroll = throttle(this.onScroll.bind(this), 1000)\n  }\n  componentDidMount() {\n    if (!this.props.movies || this.props.movies.movies.length === 0) {\n      this.props.movieActions.fetchMovies()\n    }\n    const shouldUseFacet = async () => {\n      try  {\n        if (await canUseFacets()) {\n          this.setState({useFacet: true})\n        }\n      } catch (_) {\n        return\n      }\n    }\n    shouldUseFacet()\n    window.addEventListener(\"scroll\", this.onScroll, true)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll, true)\n    this.onScroll.cancel()\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.movies.movies.length === props.movies.total_results) {\n      this.setState({ paging: false })\n      this.onScroll.cancel()\n      window.removeEventListener(\"scroll\", this.onScroll, true)\n    }\n    if (!props.movies.paging) {\n      this.setState({ paging: false })\n      this.onScroll.cancel()\n    }\n  }\n\n  async onScroll() {\n    const scroll = document.getElementById(\"root\")\n    if (\n      !this.props.movies.paging &&\n      document.body.offsetHeight + window.pageYOffset >=\n        scroll.scrollHeight - 1500 &&\n      this.props.movies.movies.length !== this.props.movies.total_results\n    ) {\n      this.props.movieActions.beginPaging()\n      this.props.movieActions.paginate(\n        this.props.movies.movies,\n        this.props.movies.page,\n        this.props.movies.filters,\n        this.state.useFacet\n      )\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n    const movies = this.props.movies.shownMovies\n    if (\n      !movies ||\n      (movies.length === 0 &&\n        (!this.props.errors.FetchMovieFailure ||\n          !this.props.searchMovieFailure))\n    ) {\n      return (\n        <div className={classes.loading}>\n          <CircularProgress />\n        </div>\n      )\n    } else {\n      return (\n        <div\n          className={this.props.classes.root}\n          onScroll={this.onScroll}\n          id=\"scroll\"\n        >\n          <Facets />\n          <GridList\n            cellHeight={600}\n            className={this.props.classes.gridList}\n            cols={4}\n          >\n            {movies.map(movie => <MovieTile key={movie._id} movie={movie} />)}\n          </GridList>\n        </div>\n      )\n    }\n  }\n}\n\nMovieGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies, errors }) {\n  return {\n    movies,\n    errors,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(MovieGrid)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  ul: {\n    listStyle: \"none\",\n    textAlign: \"center\",\n  },\n  li: {\n    fontSize: \"2em\",\n    color: \"green\",\n    cursor: \"pointer\",\n  },\n})\n\nclass CountryResults extends Component {\n  handleClick = id => {\n    this.props.movieActions.fetchMovieByID(id, this.props.history)\n  }\n  render() {\n    const {\n      classes,\n      movies: { titles },\n    } = this.props\n\n    let titlesList = titles.map((title, idx) => (\n      <li\n        className={classes.li}\n        key={idx}\n        onClick={() => this.handleClick(title._id)}\n      >\n        {title.title}\n      </li>\n    ))\n    return (\n      <div className={classes.root}>\n        <ul className={classes.ul}>{titlesList}</ul>\n      </div>\n    )\n  }\n}\n\nCountryResults.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies, errors }) {\n  return {\n    movies,\n    errors,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(CountryResults)\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"../actions/userActions\";\nimport { compose } from \"redux\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Email from \"@material-ui/icons/Email\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport { withRouter } from \"react-router-dom\";\n\nimport green from \"@material-ui/core/colors/green\";\n\nconst mongo = green[500];\n\nconst styles = theme => ({\n  root: {\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\"\n  },\n  form: {\n    display: \"inline-flex\",\n    flexDirection: \"column\",\n    color: \"white\",\n    margin: \"3%\",\n    padding: \"25px\",\n    background: \"#363636\",\n    marginTop: \"5%\",\n    borderRadius: \"8px\",\n    width: \"320px\",\n    height: \"450px\"\n  },\n  input: {\n    color: \"white\",\n    background: \"#e0e0e0\"\n  },\n  newUser: {\n    margin: theme.spacing.unit,\n    color: \"white\"\n  },\n  inputStyle: {\n    fontSize: \"18px\",\n    color: \"white\",\n    borderRadius: \"4px\"\n  },\n  buttonOk: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n    alignSelf: \"flex-end\"\n  },\n  buttonNope: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: \"red\",\n    alignSelf: \"flex-end\"\n  },\n  buttonRow: {\n    margin: theme.spacing.unit,\n    marginTop: \"auto\",\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"flex-end\"\n  }\n});\n\nclass LoginCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      showPassword: false,\n      emailReadOnly: true,\n      passwordReadOnly: true\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.props.userActions.login(\n      {\n        password: this.state.password,\n        email: this.state.email\n      },\n      this.props.history\n    );\n  }\n\n  handleChange = prop => event => {\n    this.setState({ [prop]: event.target.value });\n  };\n\n  handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  handleClickShowPasssword = () => {\n    this.setState({ showPassword: !this.state.showPassword });\n  };\n\n  handleFocusEmail = () => {\n    this.setState({ emailReadOnly: false });\n  };\n\n  handleFocusPassword = () => {\n    this.setState({ passwordReadOnly: false });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <form className={classes.form}>\n          <div className={classes.newUser}>\n            <h3>Existing User?</h3>\n            <p>\n              Sign in below. Don't have an account?{\" \"}\n              <Link\n                to=\"signup\"\n                style={{ textDecoration: \"none\", color: \"gray\" }}\n              >\n                Click here\n              </Link>\n            </p>\n          </div>\n          <input type=\"text\" style={{ display: \"none\" }} />\n          <input type=\"password\" style={{ display: \"none\" }} />\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"email\">\n              Email\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-login-email\"\n              type=\"email\"\n              readOnly={this.state.emailReadOnly}\n              onFocus={this.handleFocusEmail}\n              value={this.state.email}\n              autoComplete=\"email\"\n              onChange={this.handleChange(\"email\")}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <Email />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl style={{ color: \"white\" }} className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Password\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-login-password\"\n              autoComplete=\"off\"\n              readOnly={this.state.passwordReadOnly}\n              type={this.state.showPassword ? \"text\" : \"password\"}\n              value={this.state.password}\n              onFocus={this.handleFocusPassword}\n              onChange={this.handleChange(\"password\")}\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    className={classes.newUser}\n                    onClick={this.handleClickShowPasssword}\n                    onMouseDown={this.handleMouseDownPassword}\n                  >\n                    {this.state.showPassword ? (\n                      <VisibilityOff />\n                    ) : (\n                      <Visibility />\n                    )}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <div className={classes.buttonRow}>\n            <Button className={classes.buttonNope}>\n              <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n                Cancel\n              </Link>\n            </Button>\n            <Button className={classes.buttonOk} onClick={this.handleSubmit}>\n              Log In\n            </Button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nLoginCard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps({ user }) {\n  return {\n    user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(LoginCard);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"../actions/userActions\";\nimport { compose } from \"redux\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport Email from \"@material-ui/icons/Email\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router-dom\";\n\nimport green from \"@material-ui/core/colors/green\";\n\nconst mongo = green[500];\n\nconst styles = theme => ({\n  root: {\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\"\n  },\n  form: {\n    display: \"inline-flex\",\n    flexDirection: \"column\",\n    color: \"white\",\n    margin: \"3%\",\n    padding: \"25px\",\n    background: \"#363636\",\n    marginTop: \"5%\",\n    borderRadius: \"8px\",\n    width: \"320px\",\n    height: \"450px\"\n  },\n  input: {\n    color: \"white\"\n  },\n  newUser: {\n    margin: theme.spacing.unit,\n    color: \"white\"\n  },\n  inputStyle: {\n    fontSize: \"18px\",\n    color: \"white\",\n    borderRadius: \"4px\"\n  },\n  buttonOk: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n    alignSelf: \"flex-end\"\n  },\n  buttonNope: {\n    margin: theme.spacing.unit,\n    height: \"18px\",\n    color: \"white\",\n    background: \"red\",\n    alignSelf: \"flex-end\"\n  },\n  buttonRow: {\n    margin: theme.spacing.unit,\n    marginTop: \"auto\",\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"flex-end\"\n  }\n});\n\nclass SignupCard extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    showPassword: false\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.userActions.register(\n      {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password\n      },\n      this.props.history\n    );\n  };\n\n  handleChange = prop => event => {\n    this.setState({ [prop]: event.target.value });\n  };\n\n  handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  handleClickShowPasssword = () => {\n    this.setState({ showPassword: !this.state.showPassword });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <form className={classes.form} onSubmit={this.handleSubmit}>\n          <div className={classes.newUser}>\n            <h3>New User?</h3>\n            <p>Make an account by filling out the form below.</p>\n          </div>\n\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"name\">\n              Name\n            </InputLabel>\n            <Input\n              id=\"adornment-name\"\n              autoCapitalize=\"name\"\n              style={{ color: \"white\" }}\n              value={this.state.name}\n              onChange={this.handleChange(\"name\")}\n              autoComplete=\"name\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <AccountCircle />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Email\n            </InputLabel>\n            <Input\n              id=\"adornment-email\"\n              style={{ color: \"white\" }}\n              type=\"email\"\n              value={this.state.email}\n              onChange={this.handleChange(\"email\")}\n              autoComplete=\"email\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton className={classes.newUser}>\n                    <Email />\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <FormControl style={{ color: \"white\" }} className={classes.newUser}>\n            <InputLabel style={{ color: \"white\" }} htmlFor=\"password\">\n              Password\n            </InputLabel>\n            <Input\n              style={{ color: \"white\" }}\n              id=\"adornment-password\"\n              type={this.state.showPassword ? \"text\" : \"password\"}\n              value={this.state.password}\n              onChange={this.handleChange(\"password\")}\n              autoComplete=\"password\"\n              endAdornment={\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    className={classes.newUser}\n                    onClick={this.handleClickShowPasssword}\n                  >\n                    {this.state.showPassword ? (\n                      <VisibilityOff />\n                    ) : (\n                      <Visibility />\n                    )}\n                  </IconButton>\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <div className={classes.buttonRow}>\n            <Button className={classes.buttonNope}>\n              <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n                Cancel\n              </Link>\n            </Button>\n            <Button type=\"submit\" className={classes.buttonOk}>\n              Sign Up\n            </Button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nSignupCard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps({ user }) {\n  return {\n    user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(SignupCard);\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\n\nconst getScoreBackground = score => {\n  let normalized = score\n  if (score <= 10) {\n    normalized = score * 10\n  }\n  if (normalized >= 80) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n  if (normalized >= 60) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n  if (normalized) {\n    return {\n      width: `${normalized}%`,\n    }\n  }\n}\n\nconst styles = theme => ({\n  progressBar: {\n    marginTop: \"15px\",\n    height: \"20px\",\n    width: \"100%\",\n    background: \"#555\",\n    borderRadius: \"25px\",\n    boxShadow: \"inset 0 -1px 1px rgba(255, 255, 255, 0.3)\",\n    \"& > span\": {\n      display: \"block\",\n      height: \"100%\",\n      borderTopLeftRadius: \"20px\",\n      borderBottomLeftRadius: \"20px\",\n      backgroundImage:\n        \"linear-gradient(center bottom, rgb(43,194,83) 37%, rgb(84,240,84) 69%)\",\n      boxShadow:\n        \"inset 0 2px 9px  rgba(255,255,255,0.3), inset 0 -2px 6px rgba(0,0,0,0.4)\",\n      overflow: \"hidden\",\n    },\n  },\n})\n\nconst RatingBar = props => {\n  const { classes, ratings } = props\n  const bars = Object.keys(ratings).map((elem, ix) => {\n    let info = getScoreBackground(ratings[elem][elem])\n    let displayName = elem.charAt(0).toUpperCase() + elem.slice(1)\n    let stats = ratings[elem].total && ratings[elem].total\n    return (\n      <div key={ix}>\n        <h4 style={{ color: \"white\", textAlign: \"justify\" }}>\n          {displayName} Rating: {ratings[elem][elem].toLocaleString()}{\" \"}\n          {stats && `(from ${new Intl.NumberFormat().format(stats)} reviews)`}\n        </h4>\n        <div key={ix} className={classes.progressBar}>\n          <span\n            style={{\n              backgroundColor: ratings[elem].backgroundColor,\n              width: info.width,\n            }}\n          />\n          <p\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              margin: \"0 auto\",\n              top: \"-100%\",\n              position: \"relative\",\n              color: \"white\",\n            }}\n          />\n        </div>\n      </div>\n    )\n  })\n\n  return <div>{bars}</div>\n}\n\nRatingBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(RatingBar)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Modal from \"@material-ui/core/Modal\"\nimport YouTube from \"react-youtube\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\n\nfunction getModalStyle() {\n  const top = 50\n  const left = 50\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  }\n}\n\nconst styles = theme => ({\n  paper: {\n    position: \"absolute\",\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing.unit * 4,\n  },\n})\n\nconst randomVideo = () => {\n  let roll = Math.random()\n  if (roll < 0.5) {\n    return \"6gGXnE1Dbh0\"\n  } else {\n    return \"dQw4w9WgXcQ\"\n  }\n}\n\nclass ViewModal extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      open: props.open,\n    }\n    this.handleReady = this.handleReady.bind(this)\n  }\n\n  handleReady(e) {\n    const video = document.querySelector(\"video\")\n    if (video) {\n      video.play()\n      video.autoplay = true\n    }\n  }\n\n  handleClose = () => {\n    this.props.movieActions.viewMovie()\n  }\n\n  render() {\n    const opts = {\n      height: \"390\",\n      width: \"640\",\n    }\n    const { classes } = this.props\n\n    return (\n      <div allow=\"autoplay\">\n        <Modal\n          aria-labelledby=\"video-viewer\"\n          aria-describedby=\"watch-video\"\n          open={this.props.displayModal}\n          onClose={this.handleClose}\n        >\n          <div style={getModalStyle()} className={classes.paper}>\n            <YouTube\n              videoId={randomVideo()}\n              opts={opts}\n              onReady={this.handleReady}\n            />\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\n\nViewModal.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies: { viewMovie } }, { match }) {\n  return {\n    displayModal: viewMovie,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(ViewModal)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Card from \"@material-ui/core/Card\"\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport green from \"@material-ui/core/colors/green\"\nimport red from \"@material-ui/core/colors/red\"\nimport Button from \"@material-ui/core/Button\"\n\nconst styles = theme => ({\n  card: {\n    width: \"65vw\",\n    borderRadius: \"5px\",\n    margin: \"1%\",\n  },\n  avatar: {\n    backgroundColor: green[500],\n  },\n  typography: {\n    textAlign: \"justify\",\n  },\n  buttons: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    justifyContent: \"flex-end\",\n  },\n  buttonSubmit: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n  buttonDelete: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: red[500],\n  },\n})\n\nclass CommentCard extends React.Component {\n  state = {\n    editing: false,\n  }\n\n  handleUpdate() {\n    this.props.handleUpdate(this.props.cid, this.divComment.innerText)\n  }\n\n  handleDelete() {\n    this.props.handleDelete(this.props.cid)\n  }\n\n  handleEdit() {\n    this.setState({ editing: true })\n  }\n  render() {\n    const { classes } = this.props\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardHeader\n            avatar={\n              <Avatar aria-label=\"user\" className={classes.avatar}>\n                U\n              </Avatar>\n            }\n            title={this.props.name}\n            subheader={this.props.date}\n          />\n          <CardContent>\n            <div\n              ref={divComment => {\n                this.divComment = divComment\n              }}\n              className={classes.typography}\n              contentEditable={this.props.editable}\n            >\n              {this.props.text}\n            </div>\n          </CardContent>\n          {this.props.editable && (\n            <div className={classes.buttons}>\n              <Button\n                className={classes.buttonDelete}\n                onClick={() => this.handleDelete()}\n              >\n                {\" \"}\n                delete{\" \"}\n              </Button>\n              <Button\n                className={classes.buttonSubmit}\n                onClick={() => this.handleUpdate()}\n              >\n                update\n              </Button>\n            </div>\n          )}\n        </Card>\n      </div>\n    )\n  }\n}\n\nCommentCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  name: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n}\n\nexport default withStyles(styles)(CommentCard)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport Card from \"@material-ui/core/Card\"\nimport CardHeader from \"@material-ui/core/CardHeader\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport green from \"@material-ui/core/colors/green\"\nimport Button from \"@material-ui/core/Button\"\n\nconst styles = theme => ({\n  card: {\n    width: \"65vw\",\n    borderRadius: \"5px\",\n    margin: \"1%\",\n  },\n  avatar: {\n    backgroundColor: green[500],\n  },\n  typography: {\n    textAlign: \"justify\",\n    width: \"100%\",\n    height: \"100%\",\n    margin: \"2% auto\",\n    border: \"1px solid blue\",\n  },\n  buttonDiv: {\n    display: \"inline-flex\",\n    flexDirection: \"row\",\n    width: \"100%\",\n    justifyContent: \"flex-end\",\n  },\n  buttonSubmit: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n})\n\nclass PostComment extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleSubmit() {\n    this.props.movieActions.submitComment(\n      this.props.movieID,\n      this.divComment.innerText,\n      this.props.auth_token\n    )\n    this.divComment.innerText = \"\"\n  }\n\n  render() {\n    const { classes } = this.props\n\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardHeader title=\"Submit a comment\" />\n          <CardContent>\n            <div\n              contentEditable={true}\n              className={classes.typography}\n              ref={divComment => {\n                this.divComment = divComment\n              }}\n            />\n          </CardContent>\n          <div className={classes.buttonDiv}>\n            <Button\n              className={classes.buttonSubmit}\n              onClick={this.handleSubmit}\n            >\n              submit\n            </Button>\n          </div>\n        </Card>\n      </div>\n    )\n  }\n}\n\nPostComment.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ user }) {\n  return {\n    auth_token: user.auth_token,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(PostComment)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport green from \"@material-ui/core/colors/green\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport { compose } from \"redux\"\nimport RatingBar from \"./RatingBar\"\nimport Viewer from \"./ViewModal\"\nimport Button from \"@material-ui/core/Button\"\nimport CommentCard from \"./CommentCard\"\nimport PostComment from \"./PostComment\"\nimport { withRouter } from \"react-router-dom\"\nconst mongo = green[500]\n\nconst getRunTime = runtime =>\n  `${Math.floor(runtime / 60)} hr ${runtime % 60} min`\n\nconst packageRatings = movie =>\n  Object.keys(movie).reduce((acc, key) => {\n    switch (key) {\n      case \"imdb\":\n        if (movie[key].rating) {\n          return {\n            ...acc,\n            imdb: {\n              [key]: movie[key].rating,\n              backgroundColor: \"#3273dc\",\n              total: movie[key].votes,\n            },\n          }\n        } else {\n          return acc\n        }\n      case \"metacritic\":\n        return {\n          ...acc,\n          metacritic: {\n            [key]: movie[key],\n            backgroundColor: mongo,\n          },\n        }\n      case \"tomatoes\":\n\n        if (movie[key] && movie[key].viewer && movie[key].viewer.meter) {\n          return {\n            ...acc,\n            tomatoes: {\n              [key]: movie[key].viewer.meter,\n              backgroundColor: \"red\",\n              total: movie[key].viewer.numReviews,\n            },\n          }\n        } else {\n          return acc\n        }\n      default:\n        return acc\n    }\n  }, {})\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    background: \"black\",\n    justifyContent: \"space-around\",\n    width: \"100vw\",\n    textAlign: \"center\",\n    flexDirection: \"row\",\n    flexFlow: \"wrap\",\n  },\n  half: {\n    marginTop: \"65px\",\n    minWidth: \"450px\",\n    maxWidth: \"45%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    flex: \"0 0 auto\",\n    height: \"100vh\",\n  },\n  img: {\n    width: \"300px\",\n    height: \"444px\",\n  },\n  watchButton: {\n    margin: \"8px\",\n    color: \"white\",\n    alignItems: \"center\",\n  },\n  button: {\n    height: \"18px\",\n    color: \"white\",\n    background: mongo,\n  },\n  title: {\n    color: \"white\",\n    fontWeight: 320,\n    lineHeight: 1.125,\n    fontSize: \"2em\",\n    margin: \"15px\",\n  },\n  runtime: {\n    color: \"black\",\n    fontSize: \"12px\",\n    background: \"#d5d5d5\",\n    padding: \"5px\",\n    margin: \"15px\",\n    borderRadius: \"4px\",\n  },\n  director: {\n    color: \"white\",\n    marginTop: \"20px\",\n    margin: \"15px\",\n  },\n  directorText: {\n    color: mongo,\n    marginLeft: \"5px\",\n    background: \"#474747\",\n    padding: \"5px\",\n    borderRadius: \"5px\",\n  },\n  plotContainer: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    background: \"#363636\",\n    width: \"100%\",\n    padding: \"10px 0\",\n    borderRadius: \"7px\",\n    marginTop: \"15px\",\n    textAlign: \"center\",\n  },\n  plot: {\n    margin: \"15px\",\n    color: \"white\",\n    fontSize: \"1rem\",\n    lineHeight: \"1.5em\",\n    width: \"80%\",\n    height: \"80%\",\n    textAlign: \"justify\",\n  },\n  year: {\n    borderRadius: \"290486px\",\n    background: \"#363636\",\n    padding: \".25em .75em\",\n    marginRight: \"4px\",\n    color: \"#E0E0E0\",\n    fontSize: \".9rem\",\n  },\n  rating: {\n    borderRadius: \"290486px\",\n    background: \"#ffdd57\",\n    padding: \".25em .75em\",\n    marginLeft: \"4px\",\n    color: \"black\",\n    fontSize: \".9rem\",\n  },\n  cast: {\n    color: \"#E0E0E0\",\n    padding: \"0 15px\",\n    fontWeight: 300,\n    lineHeight: 1.2,\n    fontSize: \"18px\",\n  },\n  skittlesHeader: {\n    color: \"white\",\n    marginBottom: \"10px\",\n  },\n  skittlesContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    color: \"white\",\n  },\n  genresSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: \"#363636\",\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n      cursor: \"pointer\",\n    },\n  },\n  castSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: mongo,\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n    \"&:hover\": {\n      textDecoration: \"underline\",\n      cursor: \"pointer\",\n    },\n  },\n  writerSkittles: {\n    color: \"white\",\n    fontSize: \"12px\",\n    background: \"#363636\",\n    padding: \"5px\",\n    margin: \"0 5px\",\n    borderRadius: \"4px\",\n    float: \"left\",\n  },\n}\n\nclass MovieDetail extends Component {\n  constructor(props) {\n    super(props)\n    this.handleViewClick = this.handleViewClick.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleUpdate = this.handleUpdate.bind(this)\n    this.handleDelete = this.handleDelete.bind(this)\n    this.imgError = this.imgError.bind(this)\n    this.state = {\n      matrix: false,\n    }\n  }\n\n  rain = null\n  makeRainTimeout = null\n\n  makeRain() {\n    // Easter Egg Matrix rain when a user clicks on one of the matrix movies\n    // getting the 2d context of the canvas element, set through the ref fn\n    const c = this.canvas\n    const ctx = c.getContext(\"2d\")\n    // chinese characters to use for the rain itself\n    const chinese = Array.from(\n      \"\"\n    )\n\n    let font_size = 10\n    // columns is the width of the canvas divided by font size\n    let columns = this.canvas.width / font_size\n    // drops array, one \"drop\" per column\n    let drops = new Array(columns).fill(1)\n\n    function draw() {\n      // setting the background to black\n      ctx.fillStyle = \"rgba(0, 0, 0, 0.05)\"\n      // filling the canvas with the black background\n      ctx.fillRect(0, 0, c.width, c.height)\n      // green color for the drops\n      ctx.fillStyle = \"#0F0\"\n      // setting the font\n      ctx.font = font_size + \"px arial\"\n      // iterate through the drops array\n      drops.forEach((elem, i) => {\n        // select a random chinese character for the rain\n        let text = chinese[Math.floor(Math.random() * chinese.length)]\n        // set the position of the letter (text, x, y)\n        // so each iteration, draw the letter in the specific column at an ever\n        // increasing y position, making it move down the canvas\n        ctx.fillText(text, i * font_size, elem * font_size)\n        // begin randomizing the rain after the initial waterfall effect\n        if (elem * font_size > c.height && Math.random() > 0.975) {\n          drops[i] = 0\n        }\n        // increase y position by 1 for next animation loop to move the letter\n        drops[i]++\n      })\n    }\n    // run the animation loop every 33 milliseconds\n    this.rain = setInterval(draw, 33)\n  }\n\n  matrixCheck() {\n    const matrices = [\n      \"573a13a2f29313caabd0b8f3\",\n      \"573a139bf29313caabcf3d23\",\n      \"573a13a3f29313caabd0d923\",\n      \"573a13a7f29313caabd1a006\",\n    ]\n    if (this.props.movie._id && matrices.includes(this.props.movie._id)) {\n      this.makeRainTimeout = setTimeout(() => {\n        this.makeRain()\n      }, 1500)\n    }\n  }\n\n  componentDidMount() {\n    this.props.movieActions.fetchMovieByID(this.props.id, this.props.history)\n    window.scrollTo(0, 0)\n    const ctx = this.canvas.getContext(\"2d\")\n    const img = this.poster\n\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0, 300, 444)\n      this.matrixCheck()\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.rain)\n    clearTimeout(this.makeRainTimeout)\n  }\n\n  imgError(id) {\n    this.matrixCheck()\n    let ctx = this.canvas.getContext(\"2d\")\n    ctx.font = \"20pt Calibri\"\n    ctx.textAlign = \"center\"\n    ctx.fillStyle = \"white\"\n    ctx.fillText(\"Image failed to load\", 150, 222)\n  }\n\n  handleUpdate(id, text) {\n    this.props.movieActions.editComment(\n      id,\n      text,\n      this.props.user.auth_token,\n      this.props.movie._id\n    )\n  }\n\n  handleDelete(id) {\n    this.props.movieActions.deleteComment(\n      id,\n      this.props.user.auth_token,\n      this.props.movie._id\n    )\n  }\n\n  handleSearch(subfield, e) {\n    this.props.movieActions.searchMovies(\n      subfield,\n      e.target.innerHTML,\n      this.props.history\n    )\n  }\n\n  handleViewClick() {\n    this.props.movieActions.viewMovie()\n  }\n\n  matrixInterval = null\n\n  render() {\n    const { classes, movie } = this.props\n\n    const comments = movie.comments && (\n      <div>\n        <h2 style={{ color: mongo }}>Comments</h2>\n        <PostComment movieID={this.props.movie._id} />\n        {movie.comments.map(c => {\n          return (\n            <CommentCard\n              handleUpdate={this.handleUpdate}\n              handleDelete={this.handleDelete}\n              cid={c._id}\n              key={c._id}\n              editable={c.email === this.props.user.info.email}\n              name={c.name}\n              date={c.date}\n              text={c.text}\n            />\n          )\n        })}\n      </div>\n    )\n\n    const runtime = movie.runtime && (\n      <span style={{ color: \"white\" }}>\n        Runtime:{\" \"}\n        <span className={classes.runtime}>{getRunTime(movie.runtime)}</span>\n      </span>\n    )\n\n    const directors = movie.directors && (\n      <div className={classes.director}>\n        <span style={{ color: \"white\" }}>\n          Directed by{\" \"}\n          {movie.directors.map((elem, ix) => (\n            <span key={ix} className={classes.directorText}>\n              {elem}\n            </span>\n          ))}\n        </span>\n      </div>\n    )\n\n    const plot =\n      movie.fullplot || movie.plot ? (\n        <div className={classes.plotContainer}>\n          <div className={classes.plot}>{movie.fullplot || movie.plot}</div>\n        </div>\n      ) : (\n        \"\"\n      )\n\n    const genres = movie.genres ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Genres</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.genres.map((elem, ix) => (\n            <span\n              key={ix}\n              className={classes.genresSkittles}\n              onClick={e => this.handleSearch(\"genre\", e)}\n            >\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n\n    const cast = movie.cast ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Cast</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.cast.map((elem, ix) => (\n            <span\n              key={ix}\n              className={classes.castSkittles}\n              onClick={e => this.handleSearch(\"cast\", e)}\n            >\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n\n    const writers = movie.writers ? (\n      <div>\n        <h4 className={classes.skittlesHeader}>Writers</h4>\n        <div className={classes.skittlesContainer}>\n          {movie.writers.map((elem, ix) => (\n            <span key={ix} className={classes.writerSkittles}>\n              {elem}\n            </span>\n          ))}\n        </div>\n      </div>\n    ) : (\n      \"\"\n    )\n    return (\n      <div>\n        <div className={classes.root}>\n          <Viewer />\n          <div className={classes.half}>\n            <p className={classes.title}>{movie.title}</p>\n            <div className={classes.infoContainer}>\n              <span className={classes.year}>{movie.year}</span>\n              {movie.rated && (\n                <span className={classes.rating}>{movie.rated}</span>\n              )}\n            </div>\n            {directors}\n            {runtime}\n            {plot}\n            <RatingBar ratings={packageRatings(movie)} />\n          </div>\n          <div className={classes.half}>\n            <canvas\n              width={300}\n              height={444}\n              ref={canvas => {\n                this.canvas = canvas\n              }}\n            >\n              <img\n                ref={poster => {\n                  this.poster = poster\n                }}\n                src={movie.poster || \"\"}\n                alt={movie.title}\n                onError={() => this.imgError()}\n              />\n            </canvas>\n            <div className={classes.watchButton}>\n              <Button className={classes.button} onClick={this.handleViewClick}>\n                watch movie\n              </Button>\n            </div>\n            {genres}\n            {cast}\n            {writers}\n          </div>\n          {comments}\n        </div>\n      </div>\n    )\n  }\n}\n\nMovieDetail.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ movies: { movie, viewMovie }, user }, { match }) {\n  return {\n    movie,\n    id: match.params.id,\n    displayModal: viewMovie,\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(MovieDetail)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as userActions from \"../actions/userActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport green from \"@material-ui/core/colors/green\"\nimport Input from \"@material-ui/core/Input\"\nimport InputLabel  from \"@material-ui/core/InputLabel\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport Button from \"@material-ui/core/Button\"\nimport { Link } from \"react-router-dom\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    background: \"black\",\n    height: \"100%\",\n    justifyContent: \"space-around\",\n    width: \"100vw\",\n    textAlign: \"center\",\n    flexDirection: \"row\",\n    flexFlow: \"wrap\",\n  },\n  half: {\n    marginTop: \"65px\",\n    minWidth: \"450px\",\n    maxWidth: \"45%\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    flex: \"0 0 auto\",\n    height: \"100vh\",\n  },\n  accountDelete: {},\n  preferenceSelection: {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    width: \"35vw\",\n    background: \"#242424\",\n    padding: \"10px\",\n  },\n  formControl: {\n    margin: theme.spacing.unit,\n  },\n  formLabel: {\n    color: \"white\",\n  },\n  checked: {\n    color: green[500],\n    \"& + $bar\": {\n      backgroundColor: green[500],\n    },\n  },\n  inputContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    background: \"#242424\",\n  },\n  bar: {},\n  buttonSave: {\n    margin: theme.spacing.unit - 2,\n    height: \"18px\",\n    color: \"white\",\n    background: green[500],\n  },\n})\n\nclass Account extends Component {\n  constructor(props) {\n    super(props)\n    this.handleSelect = this.handleSelect.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.savePrefs = this.savePrefs.bind(this)\n    this.state = {\n      ...props.user.info.preferences,\n    }\n  }\n\n  preferenceMapping = {\n    preferred_language: \"Preferred Language\",\n    favorite_cast: \"Favorite Cast\",\n  }\n\n  textPreferences = [\"preferred_language\", \"favorite_cast\"]\n\n  handleSelect = name => event => {\n    this.props.userActions.updatePrefs(\n      { [name]: event.target.checked },\n      this.props.user\n    )\n  }\n\n  handleChange = event => {\n    this.setState({ [event.target.id]: event.target.value })\n  }\n\n  savePrefs() {\n    this.props.userActions.updatePrefs(this.state, this.props.user)\n  }\n\n  loadSelectPrefs() {}\n\n  loadTextPrefs() {\n    const { classes, user } = this.props\n    const prefs = Object.keys(user.info.preferences).filter(key =>\n      this.textPreferences.includes(key)\n    )\n    return prefs.map(key => {\n      return (\n        <div className={classes.inputContainer} key={key}>\n          <FormControl className={classes.formControl}>\n            <InputLabel htmlFor={key} style={{ color: \"white\" }}>\n              {this.preferenceMapping[key]}\n            </InputLabel>\n            <Input\n              id={key}\n              value={this.state[key]}\n              onChange={this.handleChange}\n              style={{ color: \"white\" }}\n            />\n          </FormControl>\n        </div>\n      )\n    })\n  }\n\n  render() {\n    const { classes, user } = this.props\n    return (\n      <div className={classes.root}>\n        <div className={classes.half}>\n          <h2 style={{ color: \"white\" }}>Hello {user.info.name}</h2>\n          {this.loadTextPrefs()}\n          <Button className={classes.buttonSave} onClick={this.savePrefs}>\n            <Link style={{ textDecoration: \"none\", color: \"white\" }} to=\"/\">\n              save\n            </Link>\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nAccount.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = ({ user }) => ({ user })\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userActions: bindActionCreators(userActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Account)\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateConnection() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Connection\"))\n    let response = await getMovies()\n    let filtersAssertion = assert(0, Object.keys(response.filters).length)\n    let moviesAssertion = assert(20, response.movies.length)\n    let resultsAssertion = assert(23530, response.total_results)\n    let pageAssertion = assert(0, response.page)\n    if (\n      [\n        filtersAssertion,\n        moviesAssertion,\n        resultsAssertion,\n        pageAssertion,\n      ].every(elem => elem)\n    ) {\n      return dispatch(validateConnectionSuccess())\n    } else {\n      return dispatch(\n        validateConnectionError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateConnectionSuccess() {\n  return { type: types.VALIDATE_CONNECTION_SUCCESS }\n}\n\nexport function validateConnectionError(error) {\n  return { type: types.VALIDATE_CONNECTION_ERROR, error }\n}\n\n/**\n * Ticket internal functions\n */\n\nconst getMovies = () => {\n  return request(`/api/v1/movies/`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateProjection() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"Projection\"))\n      let response = await searchByCountry()\n      let lengthAssertion = assert(505, response.titles.length)\n      let keysAssertion = assert(\n        505,\n        response.titles.filter(elem => Object.keys(elem).length === 2).length,\n      )\n      if ([lengthAssertion, keysAssertion].every(elem => elem)) {\n        return dispatch(validateProjectionSuccess())\n      } else {\n        return dispatch(\n          validateProjectionError(\n            new Error(\n              \"The return from the api was incorrect when searching by country\",\n            ),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateProjectionError(\n          new Error(\n            \"The return from the api was incorrect when searching by country\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateProjectionSuccess() {\n  return { type: types.VALIDATE_PROJECTION_SUCCESS }\n}\n\nexport function validateProjectionError(error) {\n  return { type: types.VALIDATE_PROJECTION_ERROR, error }\n}\n\n/**\n *  2 internal functions\n */\n\nconst searchByCountry = () => {\n  return request(`/api/v1/movies/countries?countries=Australia`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateTextAndSubfield() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"TextAndSubfield\"))\n    try {\n      let castSearch = await searchKC()\n      let textSearch = await searchSS()\n      let genreSearch = await searchTalkshow()\n      if ([castSearch, textSearch, genreSearch].every(elem => elem)) {\n        return dispatch(validateTextAndSubfieldSuccess())\n      }\n    } catch (e) {\n      return dispatch(validateTextAndSubfieldError(e))\n    }\n  }\n}\n\nexport function validateTextAndSubfieldSuccess() {\n  return { type: types.VALIDATE_TEXT_AND_SUBFIELD_SUCCESS }\n}\n\nexport function validateTextAndSubfieldError(error) {\n  return { type: types.VALIDATE_TEXT_AND_SUBFIELD_ERROR, error }\n}\n\n/**\n * Ticket 3 internal functions\n */\n\nconst searchByCast = () => {\n  const kevinConnolly = encodeURIComponent(\"Kevin Connolly\")\n  return request(`/api/v1/movies/search?cast=${kevinConnolly}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchByText = () => {\n  const shawshank = encodeURI(\"shawshank\")\n  return request(`/api/v1/movies/search?text=${shawshank}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchByGenre = () => {\n  const talkshow = encodeURI(\"Talk-Show\")\n  return request(`/api/v1/movies/search?genre=${talkshow}`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst searchKC = async () => {\n  try {\n    let response = await searchByCast()\n    let lengthAssertion = assert(2, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 112368\n    let writers = movie.writers.length === 2\n    let title = movie.title === \"Angus\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by cast\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by cast\",\n    )\n  }\n}\n\nconst searchSS = async () => {\n  try {\n    let response = await searchByText()\n    let lengthAssertion = assert(2, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 111161\n    let writers = movie.writers.length === 2\n    let title = movie.title === \"The Shawshank Redemption\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by text\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by text\",\n    )\n  }\n}\n\nconst searchTalkshow = async () => {\n  try {\n    let response = await searchByGenre()\n    console.log(response.movies.length)\n    let lengthAssertion = assert(1, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 116835\n    let writers = movie.writers.length === 3\n    let title = movie.title === \"The Late Shift\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when searching by genre\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\n      \"Did not receive the proper response when searching by genre\",\n    )\n  }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  searchByQueryAndPage,\n  assert,\n  beginTicketValidation,\n} from \"./validationHelpers\"\n\nexport function validatePaging() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Paging\"))\n    try {\n      let castPaging0 = await searchByCast()\n      let castPaging1 = await searchByCastNextPage()\n      let genrePaging0 = await searchByGenre()\n      let genrePaging5 = await searchByGenrePage5()\n      let textPaging0 = await searchByText()\n      let textPaging7 = await searchByTextPage6()\n      if (\n        [\n          castPaging0,\n          castPaging1,\n          genrePaging0,\n          genrePaging5,\n          textPaging0,\n          textPaging7,\n        ].every(elem => elem)\n      ) {\n        return dispatch(validatePagingSuccess())\n      }\n    } catch (e) {\n      return dispatch(validatePagingError(e))\n    }\n  }\n}\n\nexport function validatePagingSuccess() {\n  return { type: types.VALIDATE_PAGING_SUCCESS }\n}\n\nexport function validatePagingError(error) {\n  return { type: types.VALIDATE_PAGING_ERROR, error }\n}\n\n/**\n * Ticket 6 internal functions\n */\n\nconst searchByCast = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"cast\", \"Morgan Freeman\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 428803\n    let writers = movie.writers.length === 4\n    let title = movie.title === \"March of the Penguins\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by cast\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by cast\")\n  }\n}\n\nconst searchByCastNextPage = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"cast\", \"Morgan Freeman\", 1)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 1334555\n    let writers = movie.writers.length === 1\n    let title = movie.title === \"Prom Night in Mississippi\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by cast\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by cast\")\n  }\n}\n\nconst searchByGenre = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"genre\", \"Action\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 416449\n    let writers = movie.writers.length === 5\n    let title = movie.title.toString() === \"300\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when paging by genre\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by genre\")\n  }\n}\n\nconst searchByGenrePage5 = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"genre\", \"Action\", 5)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 287978\n    let writers = movie.writers.length === 1\n    let title = movie.title.toString() === \"Daredevil\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\n        \"Did not receive the proper response when paging by genre\",\n      )\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by genre\")\n  }\n}\n\nconst searchByText = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"text\", \"Heist\", 0)\n    let lengthAssertion = assert(20, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 95861\n    let writers = movie.writers.length === 2\n    let title = movie.title.toString() === \"The Doublecross\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by text\")\n    }\n  } catch (e) {\n    console.log(e)\n    throw new Error(\"Did not receive the proper response when paging by text\")\n  }\n}\n\nconst searchByTextPage6 = async () => {\n  try {\n    let response = await searchByQueryAndPage(\"text\", \"Heist\", 5)\n    let lengthAssertion = assert(1, response.movies.length)\n    let movie = response.movies.pop()\n    let imdb = movie.imdb.id === 3139072\n    let writers = movie.writers.length === 5\n    let title = movie.title.toString() === \"Son of Batman\"\n    if (lengthAssertion && imdb && writers && title) {\n      return true\n    } else {\n      throw new Error(\"Did not receive the proper response when paging by text\")\n    }\n  } catch (e) {\n    throw new Error(\"Did not receive the proper response when paging by text\")\n  }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  logout,\n  login,\n  deleteUser\n} from \"./validationHelpers\"\n\nexport function validateUserManagement() {\n  let testUser = genRandomUser()\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"UserManagement\"))\n    try {\n      const registerResponse = await register(testUser)\n      if (!registerResponse.ok) {\n        throw new Error(\"invalid response to register\")\n      }\n      const duplicateRegisterResponse = await register(testUser)\n      if (!duplicateRegisterResponse.ok) {\n        console.log(\n          `\\nHey there! The error response code was expected.\nIt's us testing if duplicate emails can register.\nGreat Job!`\n        )\n      }\n      if (duplicateRegisterResponse.ok) {\n        throw new Error(\"duplicate emails should not be allowed\")\n      }\n      let { auth_token } = registerResponse.json\n      let logoutResponse = await logout(auth_token)\n      if (!logoutResponse.ok) {\n        throw new Error(\"invalid response to logout\")\n      }\n      const { email, password } = testUser\n      const loginResponse = await login({ email, password })\n      if (!loginResponse.ok) {\n        throw new Error(\"invalid response to login\")\n      }\n      auth_token = loginResponse.json.auth_token\n      let deleteResponse = await deleteUser(auth_token, testUser)\n      if (!deleteResponse.ok) {\n        throw new Error(\"invalid response to delete\")\n      }\n      return dispatch(validateUserManagementSuccess())\n    } catch (error) {\n      return dispatch(validateUserManagementError(error))\n    }\n  }\n}\n\nexport function validateUserManagementSuccess() {\n  return { type: types.VALIDATE_USER_MANAGEMENT_SUCCESS }\n}\n\nexport function validateUserManagementError(error) {\n  return { type: types.VALIDATE_USER_MANAGEMENT_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport { requestWithStatus } from \"../request\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  login,\n  deleteUser,\n} from \"./validationHelpers\"\n\nexport function validateUserPreferences() {\n  let testUser = genRandomUser()\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"UserPreferences\"))\n    try {\n      const registerResponse = await register(testUser)\n      if (!registerResponse.ok) {\n        throw new Error(\"invalid response to register\")\n      }\n      const { auth_token } = registerResponse.json\n      testUser.preferences = {\n        favorite_fruit: \"watermelon\",\n        favorite_number: \"42\",\n      }\n\n      let prefResponse = await updatePreferences(auth_token, testUser)\n      if (!prefResponse.ok) {\n        throw new Error(\"invalid response to update preferences\")\n      }\n\n      const { email, password } = testUser\n\n      let loginResponse = await login({ email, password })\n      if (!loginResponse.ok){\n        throw new Error(\"invalid response to update preferences - login of user failed\")\n      }\n      // let's check if the paiload of the response was correctly sent back by the app\n      if (\n        loginResponse.json === undefined ||\n        loginResponse.json.info === undefined ){\n        throw new Error(\"invalid response for user preferences\")\n      }\n      if (\n        JSON.stringify(loginResponse.json.info.preferences) !==\n        JSON.stringify(testUser.preferences)\n      ) {\n        throw new Error(\"preferences weren't saved correctly\")\n      }\n\n      let deleteResponse = await deleteUser(auth_token, testUser)\n      if (!deleteResponse.ok) {\n        throw new Error(\"invalid response to delete\")\n      }\n      return dispatch(validateUserPreferencesSuccess())\n    } catch (error) {\n      return dispatch(validateUserPreferencesError(error))\n    }\n  }\n}\n\nexport function validateUserPreferencesSuccess() {\n  return { type: types.VALIDATE_USER_PREFERENCES_SUCCESS }\n}\n\nexport function validateUserPreferencesError(error) {\n  return { type: types.VALIDATE_USER_PREFERENCES_ERROR, error }\n}\n\nconst updatePreferences = (token, user) => {\n  return requestWithStatus(`/api/v1/user/update-preferences`, {\n    method: \"PUT\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ preferences: user.preferences }),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport { assert, beginTicketValidation, getMovie } from \"./validationHelpers\"\n\n// Shrek 2\nconst movie_id = \"573a13a7f29313caabd1aa1f\"\n\nexport function validateGetComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"GetComments\"))\n      let response = await getMovie(movie_id)\n      let lengthAssertion = assert(response.movie.comments.length, 133)\n      if (lengthAssertion) {\n        return dispatch(validateGetCommentsSuccess())\n      } else {\n        return dispatch(\n          validateGetCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateGetCommentsError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateGetCommentsSuccess() {\n  return { type: types.VALIDATE_GET_COMMENTS_SUCCESS }\n}\n\nexport function validateGetCommentsError(error) {\n  return { type: types.VALIDATE_GET_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  deleteUser,\n  register,\n  submitComment,\n  editComment,\n  deleteComment,\n  getMovie,\n} from \"./validationHelpers\"\n\n// men in black\nconst movie_id = \"573a139af29313caabcf0b0a\"\nexport function validateCreateUpdateComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"CreateUpdateComments\"))\n\n      // create the user who will own this comment\n      const commentOwner = genRandomUser()\n      const ownerRegisterResponse = await register(commentOwner)\n      const ownerAuthToken = ownerRegisterResponse.json.auth_token\n\n      // create another user who will attempt to update the comment\n      const otherUser = genRandomUser()\n      const otherRegisterResponse = await register(otherUser)\n      const otherAuthToken = otherRegisterResponse.json.auth_token\n\n      let postC, badC, goodC\n      const commentResponse = await submitComment(\n        movie_id,\n        \"feefee\",\n        ownerAuthToken,\n      )\n      if (!commentResponse.ok) {\n        throw new Error(\"Unable to post a comment\")\n      } else {\n        postC = true\n      }\n\n      // make sure Get Comments ticket has been completed\n      let firstCommentID\n      try {\n        firstCommentID = commentResponse.json.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // try to update comment with a different auth token - this should fail\n      const badResponse = await editComment(\n        firstCommentID,\n        \"badCommentText\",\n        otherAuthToken,\n        movie_id,\n      )\n\n      if (badResponse.ok) {\n        throw new Error(\"Was able to update a comment that wasn't owned\")\n      } else {\n        badC = true\n      }\n\n      // try to update comment with the correct auth token - this should succeed\n      const newCommentText = \"fazzlebizzle\"\n      const goodUpdate = await editComment(\n        firstCommentID,\n        newCommentText,\n        ownerAuthToken,\n        movie_id,\n      )\n      if (goodUpdate.ok === false) {\n        throw new Error(\"Unable to update comment\")\n      } else {\n        goodC = true\n      }\n\n      const updatedMovie = await getMovie(movie_id)\n      let updatedComment\n      try {\n        updatedComment = updatedMovie.movie.comments[0]\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n      if (updatedComment.text !== newCommentText) {\n        throw new Error(\"Update was performed but unsuccessful\")\n      }\n      deleteComment(firstCommentID, ownerAuthToken, movie_id)\n      if (postC && badC && goodC) {\n        deleteUser(ownerAuthToken, commentOwner)\n        deleteUser(otherAuthToken, otherUser)\n        return dispatch(validateCreateUpdateCommentsSuccess())\n      } else {\n        return dispatch(\n          validateCreateUpdateCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(validateCreateUpdateCommentsError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateCreateUpdateCommentsSuccess() {\n  return { type: types.VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS }\n}\n\nexport function validateCreateUpdateCommentsError(error) {\n  return { type: types.VALIDATE_CREATE_UPDATE_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  register,\n  submitComment,\n  deleteComment,\n  deleteUser,\n  getMovie,\n} from \"./validationHelpers\"\n\n// the martian\nconst movie_id = \"573a13b7f29313caabd490b9\"\nexport function validateDeleteComments() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"DeleteComments\"))\n\n      // create the user who will own this comment\n      const commentOwner = genRandomUser()\n      const ownerRegisterResponse = await register(commentOwner)\n      const ownerAuthToken = ownerRegisterResponse.json.auth_token\n\n      // create another user who will attempt to delete the comment\n      const otherUser = genRandomUser()\n      const otherRegisterResponse = await register(otherUser)\n      const otherAuthToken = otherRegisterResponse.json.auth_token\n\n      let postC, badC, goodC\n      const commentResponse = await submitComment(\n        movie_id,\n        \"feefee\",\n        ownerAuthToken,\n      )\n      if (!commentResponse.ok) {\n        throw new Error(\"Unable to post a comment\")\n      } else {\n        postC = true\n      }\n\n      // make sure Get Comments ticket has been completed\n      let firstCommentID\n      try {\n        firstCommentID = commentResponse.json.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // using otherAuthToken, should not be able to delete this comment\n      const badResponse = await deleteComment(\n        firstCommentID,\n        otherAuthToken,\n        movie_id,\n      )\n\n      try {\n        let badResponseCommentId\n        // check to see if the api returns a successful or failure status code\n        if (badResponse.ok) {\n          badResponseCommentId = badResponse.json.comments[0]._id\n          // if the first (latest) comment associated with The Martian has changed,\n          // then this bad delete was actually successful - this will throw an error\n          if (badResponseCommentId !== firstCommentID) {\n            throw new Error(\"Was able to delete a comment that wasn't owned\")\n          }\n        }\n        badC = true\n      } catch (e) {\n        throw e\n      }\n      // using ownerAuthToken, should be able to successfully delete this comment\n      await deleteComment(firstCommentID, ownerAuthToken, movie_id)\n\n      const updatedMovie = await getMovie(movie_id)\n      let newCommentID\n      try {\n        newCommentID = updatedMovie.movie.comments[0]._id\n      } catch (e) {\n        throw new Error(\"Unable to retrieve movie comments\")\n      }\n\n      // if the first comment associated with The Martian has NOT changed, then\n      // this good delete was unsuccessful - this will throw an error\n      if (newCommentID === firstCommentID) {\n        throw new Error(\"Deletion was performed but unsuccessful\")\n      } else {\n        goodC = true\n      }\n\n      if (postC && badC && goodC) {\n        deleteUser(ownerAuthToken, commentOwner)\n        deleteUser(otherAuthToken, otherUser)\n        return dispatch(validateDeleteCommentsSuccess())\n      } else {\n        return dispatch(\n          validateDeleteCommentsError(\n            new Error(\"The return from the api was incorrect\"),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(validateDeleteCommentsError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateDeleteCommentsSuccess() {\n  return { type: types.VALIDATE_DELETE_COMMENTS_SUCCESS }\n}\n\nexport function validateDeleteCommentsError(error) {\n  return { type: types.VALIDATE_DELETE_COMMENTS_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport request, { requestWithStatus } from \"../request\"\nimport {\n  beginTicketValidation,\n  genRandomUser,\n  deleteUser,\n} from \"./validationHelpers\"\n\nconst invalid_auth_token =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1MjIxNzI3NzMsIm5iZiI6MTUyMjE3Mjc3MywianRpIjoiYjFlYmI0ZDQtNjZlZS00MTY4LTg0MWQtZGNhODJkMThmN2NhIiwiZXhwIjoxNTIyMTczNjczLCJpZGVudGl0eSI6eyJlbWFpbCI6ImZvb2JhekBiYXIuY29tIiwibmFtZSI6ImZvbyBiYXIiLCJwYXNzd29yZCI6bnVsbCwicHJlZmVyZW5jZXMiOnsiZmF2b3JpdGVfY2FzdCI6Ik1lZyBSeWFuIiwicHJlZmVycmVkX2xhbmd1YWdlIjoiRW5nbGlzaCJ9fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIiwidXNlcl9jbGFpbXMiOnsidXNlciI6eyJlbWFpbCI6ImZvb2JhekBiYXIuY29tIiwibmFtZSI6ImZvbyBiYXIiLCJwYXNzd29yZCI6bnVsbCwicHJlZmVyZW5jZXMiOnsiZmF2b3JpdGVfY2FzdCI6Ik1lZyBSeWFuIiwicHJlZmVycmVkX2xhbmd1YWdlIjoiRW5nbGlzaCJ9fX19.q9z_tG7gEqaRMfrbTpj9Jz52vocqOBWgEpCd3KC6giI\"\n\n// the martian\nexport function validateUserReport() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"UserReport\"))\n      let testUser = genRandomUser()\n      const registerResponse = await register(testUser)\n      const { auth_token } = registerResponse\n      const badReportRequest = await getUserReport(invalid_auth_token)\n      const goodReportRequest = await getUserReport(auth_token)\n      if (badReportRequest.ok) {\n        throw new Error(\"Invalid response to bad user report request\")\n      }\n      if (\n        !goodReportRequest.ok ||\n        !goodReportRequest.json ||\n        !goodReportRequest.json.report ||\n        goodReportRequest.json.report.length !== 20\n      ) {\n        throw new Error(\"Invalid response to good user report request\")\n      }\n      deleteUser(auth_token, testUser)\n      return dispatch(validateUserReportSuccess())\n    } catch (e) {\n      return dispatch(validateUserReportError(new Error(e.message)))\n    }\n  }\n}\n\nexport function validateUserReportSuccess() {\n  return { type: types.VALIDATE_USER_REPORT_SUCCESS }\n}\n\nexport function validateUserReportError(error) {\n  return { type: types.VALIDATE_USER_REPORT_ERROR, error }\n}\n\n/**\n * Ticket 11 internal functions\n */\n\nconst getUserReport = token => {\n  return requestWithStatus(`/api/v1/user/comment-report`, {\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n\nconst register = user => {\n  return request(`/api/v1/user/make-admin`, {\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then(user => user)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport { beginTicketValidation, getMovie } from \"./validationHelpers\"\n\n// Finding Nemo\nlet movie_id = \"573a13a5f29313caabd1333a\"\nexport function validateMigration() {\n  return async dispatch => {\n    try {\n      dispatch(beginTicketValidation(\"Migration\"))\n      const response = await getMovie(movie_id)\n      let dateTypes = [\"<class 'datetime.datetime'>\", \"java.util.Date\", \"Date\"]\n      if (dateTypes.indexOf(response.updated_type) > -1) {\n        return dispatch(validateMigrationSuccess())\n      } else {\n        return dispatch(\n          validateMigrationError(\n            new Error(\n              \"It does not appear that you correctly converted the type\",\n            ),\n          ),\n        )\n      }\n    } catch (e) {\n      return dispatch(\n        validateMigrationError(\n          new Error(\"It does not appear that you correctly converted the type\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateMigrationSuccess() {\n  return { type: types.VALIDATE_MIGRATION_SUCCESS }\n}\n\nexport function validateMigrationError(error) {\n  return { type: types.VALIDATE_MIGRATION_ERROR, error }\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateConnectionPooling() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"ConnectionPooling\"))\n    let response = await getPoolSize()\n    let poolAssertion = assert(50, response.pool_size)\n    if ([poolAssertion].every(elem => elem)) {\n      return dispatch(validateConnectionPoolingSuccess())\n    } else {\n      return dispatch(\n        validateConnectionPoolingError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateConnectionPoolingSuccess() {\n  return { type: types.VALIDATE_CONNECTION_POOLING_SUCCESS }\n}\n\nexport function validateConnectionPoolingError(error) {\n  return { type: types.VALIDATE_CONNECTION_POOLING_ERROR, error }\n}\n\n/**\n * Ticket internal functions\n */\n\nconst getPoolSize = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { assert, beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateTimeouts() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"Timeouts\"))\n    let response = await getPoolSize()\n    let timeAssertion = assert(2500, response.wtimeout)\n    if (timeAssertion) {\n      return dispatch(validateTimeoutsSuccess())\n    } else {\n      return dispatch(\n        validateTimeoutsError(\n          new Error(\"The return from the api was incorrect\"),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateTimeoutsSuccess() {\n  return { type: types.VALIDATE_TIMEOUTS_SUCCESS }\n}\n\nexport function validateTimeoutsError(error) {\n  return { type: types.VALIDATE_TIMEOUTS_ERROR, error }\n}\n\n/**\n * Ticket 13 internal functions\n */\n\nconst getPoolSize = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { beginTicketValidation } from \"./validationHelpers\"\n\nexport function validateErrorHandling() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"ErrorHandling\"))\n    try {\n      let response = await checkMovieByIDError()\n      if (response.error !== \"Not found\") {\n        throw new Error()\n      }\n      return dispatch(validateErrorHandlingSuccess())\n    } catch (e) {\n      return dispatch(\n        validateErrorHandlingError(\n          new Error(\n            \"The return from the api was incorrect when providing a bad id to search by\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validateErrorHandlingSuccess() {\n  return { type: types.VALIDATE_ERROR_HANDLING_SUCCESS }\n}\n\nexport function validateErrorHandlingError(error) {\n  return { type: types.VALIDATE_ERROR_HANDLING_ERROR, error }\n}\n\n/**\n * Ticket 15 internal functions\n */\n\nconst checkMovieByIDError = () => {\n  return request(`/api/v1/movies/id/foobar`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import * as types from \"../actionTypes\"\nimport request from \"../request\"\nimport { beginTicketValidation } from \"./validationHelpers\"\n\nexport function validatePOLP() {\n  return async dispatch => {\n    dispatch(beginTicketValidation(\"POLP\"))\n    let response = await getUserInfo()\n    let roleAssertion = response.role === \"readWrite\"\n    if (roleAssertion) {\n      return dispatch(validatePOLPSuccess())\n    } else {\n      return dispatch(\n        validatePOLPError(\n          new Error(\n            \"It doesn't appear you have configured the application user\",\n          ),\n        ),\n      )\n    }\n  }\n}\n\nexport function validatePOLPSuccess() {\n  return { type: types.VALIDATE_POLP_SUCCESS }\n}\n\nexport function validatePOLPError(error) {\n  return { type: types.VALIDATE_POLP_ERROR, error }\n}\n\n/**\n * Ticket 13 internal functions\n */\n\nconst getUserInfo = () => {\n  return request(`/api/v1/movies/config-options`, {\n    method: \"GET\",\n    mode: \"cors\",\n  })\n    .then(res => res)\n    .catch(error => error)\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Button from \"@material-ui/core/Button\"\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\nimport red from \"@material-ui/core/colors/red\"\nimport grey from \"@material-ui/core/colors/grey\"\n\nconst mongoRed = red[900]\nconst mongoGrey = grey[400]\n\nconst styles = theme => ({\n  validationBar: {\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: \"50vw\",\n    marginTop: \"15px\",\n    height: \"40px\",\n  },\n  validationTicket: {\n    display: \"flex\",\n    padding: \"0 15px\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"30vw\",\n  },\n  validationTicketWaiting: {\n    display: \"flex\",\n    padding: \"0 15px\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"30vw\",\n    background: mongoGrey,\n  },\n  ticketLabel: {\n    display: \"flex\",\n    padding: \"0 5px\",\n    background: \"#e6e6e6\",\n    textAlign: \"center\",\n    height: \"40px\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"10vw\",\n  },\n  copyButton: {\n    height: \"40px\",\n    color: \"white\",\n    background: \"#6b6b6b\",\n    justifyContent: \"center\",\n    borderRadius: 0,\n    \"&:hover\": {\n      background: \"#6b6b6b\",\n    },\n    width: \"10vw\",\n  },\n})\n\nclass TicketValidator extends React.Component {\n  state = {\n    beginValidating: false,\n  }\n\n  onClickValidate() {\n    this.setState({beginValidating: true})\n    this.props.onClickValidate(this.props.ticketName)\n  }\n\n  render() {\n    const props = this.props\n    if (!this.state.beginValidating) {\n      return (\n        <div className={props.classes.validationBar} onClick={() => this.onClickValidate()}>\n          <span className={props.classes.ticketLabel}>{props.ticketLabel}</span>\n          <div className={props.classes.validationTicketWaiting}>\n            Click to begin validation\n          </div>\n        </div>\n      )\n    } else {\n      switch (props.ticketValidating) {\n        case true:\n          return (\n            <div className={props.classes.validationBar}>\n              <span className={props.classes.ticketLabel}>\n                {props.ticketLabel}\n              </span>\n              <div className={props.classes.validationTicketWaiting}>\n                Currently Validating\n              </div>\n            </div>\n          )\n\n        default:\n          return !props.ticketError ? (\n            <div className={props.classes.validationBar}>\n              <span className={props.classes.ticketLabel}>\n                {props.ticketLabel}\n              </span>\n              <div\n                className={props.classes.validationTicket}\n                style={{ background: \"#056705\" }}\n              >\n                {props.ticketSuccess}\n              </div>\n              <CopyToClipboard text={props.ticketSuccess}>\n                <Button\n                  onClick={props.copied}\n                  className={props.classes.copyButton}\n                >\n                  Copy\n                </Button>\n              </CopyToClipboard>\n            </div>\n          ) : (\n            <div\n              className={props.classes.validationBar}\n              style={{ background: mongoRed }}\n            >\n              {props.ticketLabel}: {props.ticketErrorMessage}\n            </div>\n          )\n      }\n    }\n  }\n}\n\nTicketValidator.propTypes = {\n  classes: PropTypes.object.isRequired,\n  copied: PropTypes.func.isRequired,\n  onClickValidate: PropTypes.func.isRequired,\n  ticketError: PropTypes.bool.isRequired,\n  ticketErrorMessage: PropTypes.string.isRequired,\n  ticketSuccess: PropTypes.string.isRequired,\n  ticketLabel: PropTypes.string.isRequired,\n  ticketValidating: PropTypes.bool.isRequired,\n  ticketName: PropTypes.string.isRequired,\n}\n\nexport default withStyles(styles)(TicketValidator)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as validationActions from \"../actions/validationActions/index\"\nimport { compose } from \"redux\"\nimport pixelLeaf from \"../assets/pixelatedLeaf.svg\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport TicketValidator from \"./TicketValidator\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n    textAlign: \"center\",\n    paddingTop: \"15px\",\n    alignItems: \"center\"\n  },\n  inner: {\n    color: \"red\",\n    fontSize: \"64px\",\n    fontFamily: \"'Press Start 2P', cursive\",\n    textAlign: \"center\",\n    textStroke: \"1px\",\n    textShadow:\n      \"3px 3px 0 green, -1px -1px 0 blue, 1px -1px 0 blue, -1px 1px 0 blue, 1px 1px 0 blue\",\n    paddingTop: \"15px\",\n    animation: \"blink 1s linear 3 forwards\"\n  },\n  leaf: {\n    marginTop: \"15px\",\n    animation: \"spinningLeaf 2s linear 0s infinite\"\n  }\n})\n\nclass Status extends Component {\n  interval = null\n  timeout = null\n  state = {\n    startValidation: false,\n    open: false\n  }\n  constructor(props) {\n    super(props)\n    this.onClickValidate = this.onClickValidate.bind(this)\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      this.leaf.style.opacity -= 0.01\n    }, 30)\n    this.timeout = setTimeout(() => {\n      this.readyName.style.display = \"none\"\n      this.leaf.style.display = \"none\"\n      clearInterval(this.interval)\n      this.setState({ startValidation: true })\n    }, 3500)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval)\n    clearTimeout(this.timeout)\n  }\n\n  onClickValidate(ticket) {\n    this.props.validationActions[`validate${ticket}`]()\n  }\n\n  copied = () => {\n    this.setState({ open: true })\n  }\n\n  handleClose = () => {\n    this.setState({ open: false })\n  }\n\n  render() {\n    const playerOne = this.props.user.loggedIn\n      ? `Ready ${this.props.user.info.name}`\n      : \"Player One\"\n\n    const Connection = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Connection\"\n        ticketLabel=\"Connection\"\n        ticketValidating={this.props.validate.validatingConnection}\n        ticketError={this.props.validate.ConnectionError}\n        ticketSuccess={this.props.validate.ConnectionSuccess}\n        ticketErrorMessage={this.props.validate.ConnectionErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const Projection = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Projection\"\n        ticketLabel=\"Projection\"\n        ticketValidating={this.props.validate.validatingProjection}\n        ticketError={this.props.validate.ProjectionError}\n        ticketSuccess={this.props.validate.ProjectionSuccess}\n        ticketErrorMessage={this.props.validate.ProjectionErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const TextAndSubfield = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"TextAndSubfield\"\n        ticketLabel=\"Text and Subfield Search\"\n        ticketValidating={this.props.validate.validatingTextAndSubfield}\n        ticketError={this.props.validate.TextAndSubfieldError}\n        ticketSuccess={this.props.validate.TextAndSubfieldSuccess}\n        ticketErrorMessage={this.props.validate.TextAndSubfieldErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const Paging = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Paging\"\n        ticketLabel=\"Paging\"\n        ticketValidating={this.props.validate.validatingPaging}\n        ticketError={this.props.validate.PagingError}\n        ticketSuccess={this.props.validate.PagingSuccess}\n        ticketErrorMessage={this.props.validate.PagingErrorMessage}\n        copied={this.copied}\n      />\n    )\n    const FacetedSearch = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"FacetedSearch\"\n        ticketLabel=\"Faceted Search\"\n        ticketValidating={this.props.validate.validatingFacetedSearch}\n        ticketError={this.props.validate.FacetedSearchError}\n        ticketSuccess={this.props.validate.FacetedSearchSuccess}\n        ticketErrorMessage={this.props.validate.FacetedSearchErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserManagement = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserManagement\"\n        ticketLabel=\"User Management\"\n        ticketValidating={this.props.validate.validatingUserManagement}\n        ticketError={this.props.validate.UserManagementError}\n        ticketSuccess={this.props.validate.UserManagementSuccess}\n        ticketErrorMessage={this.props.validate.UserManagementErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserPreferences = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserPreferences\"\n        ticketLabel=\"User Preferences\"\n        ticketValidating={this.props.validate.validatingUserPreferences}\n        ticketError={this.props.validate.UserPreferencesError}\n        ticketSuccess={this.props.validate.UserPreferencesSuccess}\n        ticketErrorMessage={this.props.validate.UserPreferencesErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const GetComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"GetComments\"\n        ticketLabel=\"Get Comments\"\n        ticketValidating={this.props.validate.validatingGetComments}\n        ticketError={this.props.validate.GetCommentsError}\n        ticketSuccess={this.props.validate.GetCommentsSuccess}\n        ticketErrorMessage={this.props.validate.GetCommentsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const CreateUpdateComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"CreateUpdateComments\"\n        ticketLabel=\"Create/Update Comments\"\n        ticketValidating={this.props.validate.validatingCreateUpdateComments}\n        ticketError={this.props.validate.CreateUpdateCommentsError}\n        ticketSuccess={this.props.validate.CreateUpdateCommentsSuccess}\n        ticketErrorMessage={\n          this.props.validate.CreateUpdateCommentsErrorMessage\n        }\n        copied={this.copied}\n      />\n    )\n\n    const DeleteComments = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"DeleteComments\"\n        ticketLabel=\"Delete Comments\"\n        ticketValidating={this.props.validate.validatingDeleteComments}\n        ticketError={this.props.validate.DeleteCommentsError}\n        ticketSuccess={this.props.validate.DeleteCommentsSuccess}\n        ticketErrorMessage={this.props.validate.DeleteCommentsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const UserReport = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"UserReport\"\n        ticketLabel=\"User Report\"\n        ticketValidating={this.props.validate.validatingUserReport}\n        ticketError={this.props.validate.UserReportError}\n        ticketSuccess={this.props.validate.UserReportSuccess}\n        ticketErrorMessage={this.props.validate.UserReportErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const Migration = (\n      <TicketValidator\n              onClickValidate = {this.onClickValidate}\n        ticketName = \"Migration\"\n        ticketLabel=\"Migration\"\n        ticketValidating={this.props.validate.validatingMigration}\n        ticketError={this.props.validate.MigrationError}\n        ticketSuccess={this.props.validate.MigrationSuccess}\n        ticketErrorMessage={this.props.validate.MigrationErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const ConnectionPooling = (\n      <TicketValidator\n              onClickValidate = {this.onClickValidate}\n        ticketName = \"ConnectionPooling\"\n        ticketLabel=\"Connection Pooling\"\n        ticketValidating={this.props.validate.validatingConnectionPooling}\n        ticketError={this.props.validate.ConnectionPoolingError}\n        ticketSuccess={this.props.validate.ConnectionPoolingSuccess}\n        ticketErrorMessage={this.props.validate.ConnectionPoolingErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const Timeouts = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"Timeouts\"\n        ticketLabel=\"Timeouts\"\n        ticketValidating={this.props.validate.validatingTimeouts}\n        ticketError={this.props.validate.TimeoutsError}\n        ticketSuccess={this.props.validate.TimeoutsSuccess}\n        ticketErrorMessage={this.props.validate.TimeoutsErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const ErrorHandling = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"ErrorHandling\"\n        ticketLabel=\"Error Handling\"\n        ticketValidating={this.props.validate.validatingErrorHandling}\n        ticketError={this.props.validate.ErrorHandlingError}\n        ticketSuccess={this.props.validate.ErrorHandlingSuccess}\n        ticketErrorMessage={this.props.validate.ErrorHandlingErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const POLP = (\n      <TicketValidator\n        onClickValidate = {this.onClickValidate}\n        ticketName = \"POLP\"\n        ticketLabel=\"Principle of Least Privilege\"\n        ticketValidating={this.props.validate.validatingPOLP}\n        ticketError={this.props.validate.POLPError}\n        ticketSuccess={this.props.validate.POLPSuccess}\n        ticketErrorMessage={this.props.validate.POLPErrorMessage}\n        copied={this.copied}\n      />\n    )\n\n    const week1Validations = this.state.startValidation ? (\n      <div>\n        <div>{Connection}</div>\n        <div>{Projection}</div>\n        <div>{TextAndSubfield}</div>\n        <div>{Paging}</div>\n        <div>{FacetedSearch}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    const week2Validations = this.state.startValidation ? (\n      <div>\n        <div>{UserManagement}</div>\n        <div>{UserPreferences}</div>\n        <div>{GetComments}</div>\n        <div>{CreateUpdateComments}</div>\n        <div>{DeleteComments}</div>\n        <div>{UserReport}</div>\n        <div>{Migration}</div>\n        <div>{ConnectionPooling}</div>\n        <div>{Timeouts}</div>\n        <div>{ErrorHandling}</div>\n        <div>{POLP}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    //<div>\n    //<div>{week1Validations}</div>\n    //{!this.props.validate.hasWeek1Errors &&\n    //!this.props.validate.week1Validating && <div>{week2Validations}</div>}\n    //</div>\n    const validations = this.state.startValidation ? (\n      <div>\n        <div>{week1Validations}</div>\n        <div>{week2Validations}</div>\n      </div>\n    ) : (\n      \"\"\n    )\n    return (\n      <div className={this.props.classes.root}>\n        <div\n          ref={readyName => {\n            this.readyName = readyName\n          }}\n          className={this.props.classes.inner}\n        >\n          {playerOne}\n        </div>\n        <img\n          ref={leaf => (this.leaf = leaf)}\n          style={{ opacity: 1 }}\n          className={this.props.classes.leaf}\n          src={pixelLeaf}\n          alt=\"\"\n        />\n        {validations}\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={this.state.open}\n          onClose={this.handleClose}\n          autoHideDuration={1000}\n          SnackbarContentProps={{\n            \"aria-describedby\": \"Copied\"\n          }}\n          message={<span id=\"message-id\">Copied!</span>}\n        />\n      </div>\n    )\n  }\n}\n\nStatus.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nfunction mapStateToProps({ user, validate }) {\n  return {\n    user,\n    validate\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    validationActions: bindActionCreators(validationActions, dispatch)\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(Status)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport TextField from \"@material-ui/core/TextField\"\nimport purple from \"@material-ui/core/colors/purple\"\nimport Button from \"@material-ui/core/Button\"\nimport green from \"@material-ui/core/colors/green\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as movieActions from \"../actions/movieActions\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport FormControl from \"@material-ui/core/FormControl\"\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\"\nimport Radio from \"@material-ui/core/Radio\"\nimport RadioGroup from \"@material-ui/core/RadioGroup\"\nimport {canUseFacets} from \"../actions/validationActions/validateFacetedSearch\"\nconst mongo = green[500]\n\nconst styles = theme => ({\n  container: {\n    display: \"inline-flex\",\n    alignItems: \"center\"\n  },\n  formControl: {\n    flexDirection: \"row\"\n  },\n  inputLabelFocused: {\n    color: purple[500]\n  },\n  inputInkbar: {\n    \"&:after\": {\n      backgroundColor: purple[500]\n    }\n  },\n  textFieldRoot: {\n    padding: 0\n  },\n  textFieldInput: {\n    borderRadius: \"4px 0 0 4px\",\n    backgroundColor: theme.palette.common.white,\n    color: \"black\",\n    fontSize: 16,\n    padding: \"10px 12px\",\n    width: \"15rem\",\n    transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\n    \"&:focus\": {\n      borderColor: \"#80bdff\",\n      boxShadow: \"0 0 0 0.2rem rgba(0,123,255,.25)\"\n    },\n    height: \"20px\"\n  },\n  button: {\n    input: {\n      display: \"none\"\n    },\n    borderRadius: \"0 4px 4px 0\",\n    color: \"white\",\n    padding: \"10px 0\",\n    background: mongo,\n    width: \"30px\",\n    display: \"inline-flex\"\n  },\n  group: {\n    display: \"inline-flex\",\n    flexDirection: \"row\"\n  },\n  label: {\n    color: \"white\"\n  },\n  radio: {\n    color: \"white\"\n  }\n})\n\nclass SubfieldSearch extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchText: \"\",\n      selected: false,\n      defaultValue: \"search by parameter\",\n      value: \"text\"\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleSelection = this.handleSelection.bind(this)\n    this.fireSearch = this.fireSearch.bind(this)\n  }\n\n  handleSelection(e, value) {\n    this.setState({ value })\n  }\n\n  fireSearch(whichType, useFacet = false) {\n    return this.props.movieActions.searchMovies(\n      whichType,\n      this.state.searchText,\n      this.props.history,\n      useFacet\n    )\n  }\n\n  async handleSearch(e) {\n    this.props.miscActions.toggleDrawer()\n    switch (this.state.value) {\n      case \"country\":\n        return this.props.movieActions.searchCountries(\n          this.state.searchText,\n          this.props.history\n        )\n\n      case \"genre\":\n        return this.fireSearch(\"genre\")\n\n      case \"cast\":\n        try {\n          let useFacet = await canUseFacets()\n          return this.fireSearch(\"cast\", useFacet)\n        } catch (e) {\n          return this.fireSearch(\"cast\")\n        }\n\n      default:\n        return this.fireSearch(\"text\")\n    }\n  }\n\n  handleChange(e) {\n    this.setState({ searchText: e.target.value })\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <div>\n        <div className={classes.container}>\n          <FormControl className={classes.formControl}>\n            <TextField\n              id=\"searchText\"\n              placeholder={this.state.defaultValue}\n              value={this.state.searchText}\n              onChange={this.handleChange}\n              InputProps={{\n                disableUnderline: true,\n                classes: {\n                  root: classes.textFieldRoot,\n                  input: classes.textFieldInput\n                }\n              }}\n              InputLabelProps={{\n                shrink: true,\n                className: classes.textFieldFormLabel\n              }}\n            />\n            <Button className={classes.button} onClick={this.handleSearch}>\n              search\n            </Button>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl>\n            <RadioGroup\n              aria-label=\"searchType\"\n              name=\"searchType\"\n              className={classes.group}\n              value={this.state.value}\n              onChange={this.handleSelection}\n            >\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"text\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Text\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"country\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Country\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"genre\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Genre\"\n              />\n              <FormControlLabel\n                classes={{ label: classes.label }}\n                value=\"cast\"\n                control={<Radio style={{ color: \"white\" }} />}\n                label=\"Cast\"\n              />\n            </RadioGroup>\n          </FormControl>\n        </div>\n      </div>\n    )\n  }\n}\n\nSubfieldSearch.propTypes = {\n  classes: PropTypes.object.isRequired\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    movieActions: bindActionCreators(movieActions, dispatch),\n    miscActions: bindActionCreators(miscActions, dispatch)\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    () => ({}),\n    mapDispatchToProps\n  )\n)(SubfieldSearch)\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport Drawer from \"@material-ui/core/Drawer\"\nimport Divider from \"@material-ui/core/Divider\"\nimport SubfieldSearch from \"./SubfieldSearch\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as miscActions from \"../actions/miscActions\"\nimport { compose } from \"redux\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    background: \"#262626\",\n    height: \"100vh\",\n  },\n  divider: {\n    marginTop: \"15px\",\n  },\n})\n\nclass AppDrawer extends React.Component {\n  render() {\n    const { classes } = this.props\n\n    const sideList = (\n      <div className={classes.root}>\n        <Divider className={classes.divider} />\n        <SubfieldSearch />\n        <Divider className={classes.divider} />\n      </div>\n    )\n\n    return (\n      <Drawer\n        open={this.props.misc.open}\n        onClose={this.props.miscActions.toggleDrawer}\n      >\n        <div tabIndex={0} role=\"button\">\n          {sideList}\n        </div>\n      </Drawer>\n    )\n  }\n}\n\nAppDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ misc, movies: { facets, facetFilters } }) {\n  return {\n    misc,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    miscActions: bindActionCreators(miscActions, dispatch),\n  }\n}\n\nexport default compose(\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AppDrawer)\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport { connect } from \"react-redux\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { compose } from \"redux\"\n\nconst styles = theme => ({\n  loading: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignItems: \"center\",\n    width: \"100vw\",\n    height: \"100vh\",\n  },\n})\n\nconst AdminRoute = ({\n  component: Component,\n  redirectRoute,\n  user,\n  misc,\n  classes,\n  ...rest\n}) => {\n  if (misc.checkingAdminStatus) {\n    return (\n      <div className={classes.loading}>\n        <CircularProgress />\n      </div>\n    )\n  }\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        user.isAdmin ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectRoute} />\n        )\n      }\n    />\n  )\n}\n\nconst mapStateToProps = ({ user, misc }) => ({ user, misc })\n\nexport default compose(\n  withStyles(styles),\n  connect(mapStateToProps)\n)(AdminRoute)\n","import * as types from \"./actionTypes\"\nimport request from \"./request\"\n\nexport function fetchReport(user, history) {\n  return dispatch => {\n    dispatch(fetchingReport())\n    return request(`/api/v1/user/comment-report`, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        Authorization: `Bearer ${user.auth_token}`,\n      },\n    })\n      .then(json => dispatch(receivedReportSuccess(json)))\n      .then(() => history.push(\"/user-report\"))\n      .catch(e => history.push(\"/login\"))\n  }\n}\n\nexport function fetchingReport() {\n  return { type: types.FETCH_USER_REPORT }\n}\n\nexport function receivedReportSuccess({ report }) {\n  return { type: types.RECEIVED_USER_REPORT_SUCCESS, report }\n}\n\nexport function receivedReportFailure(report) {\n  return { type: types.RECEIVED_USER_REPORT_FAILURE, report }\n}\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { bindActionCreators } from \"redux\"\nimport * as reportActions from \"../actions/reportActions\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport Button from \"@material-ui/core/Button\"\nimport green from \"@material-ui/core/colors/green\"\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  button: {\n    input: {\n      display: \"none\",\n    },\n    color: \"white\",\n    padding: \"10px\",\n    background: green[500],\n    display: \"inline-flex\",\n    margin: theme.spacing.unit - 2,\n  },\n})\n\nclass AdminPanel extends Component {\n  handleClick() {\n    this.props.reportActions.fetchReport(this.props.user, this.props.history)\n  }\n  render() {\n    const { classes } = this.props\n    return (\n      <div className={classes.root}>\n        <Button className={classes.button} onClick={() => this.handleClick()}>\n          User Report\n        </Button>\n      </div>\n    )\n  }\n}\n\nAdminPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    reportActions: bindActionCreators(reportActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(AdminPanel)\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport { bindActionCreators } from \"redux\"\nimport * as reportActions from \"../actions/reportActions\"\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    flex: 1,\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    backgroundColor: \"black\",\n    alignContent: \"center\",\n    width: \"100vw\",\n    minHeight: \"100vh\",\n    height: \"100%\",\n    flexBasis: 0,\n  },\n  ul: {\n    listStyle: \"none\",\n    textAlign: \"center\",\n  },\n  li: {\n    fontSize: \"1.5em\",\n    color: \"white\",\n  },\n})\n\nclass UserReport extends Component {\n  componentDidMount() {\n    if (!this.props.report || this.props.report.length === 0) {\n      this.props.reportActions.fetchReport(this.props.user, this.props.history)\n    }\n  }\n  render() {\n    const { report, classes } = this.props\n\n    let userList = report.map((entry, idx) => (\n      <li className={classes.li} key={entry._id}>\n        {`# ${idx + 1} with ${entry.count} comments: ${entry._id}`}\n      </li>\n    ))\n    return (\n      <div className={classes.root}>\n        <ul className={classes.ul}>{userList}</ul>\n      </div>\n    )\n  }\n}\n\nUserReport.propTypes = {\n  classes: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps({ report: { report }, user }) {\n  return {\n    report,\n    user,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    reportActions: bindActionCreators(reportActions, dispatch),\n  }\n}\n\nexport default compose(\n  withRouter,\n  withStyles(styles),\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )\n)(UserReport)\n","import React, { Component } from \"react\"\n// The following line needs an eslint ignore directive because Router needs to be in scope\nimport { BrowserRouter as Router, Route } from \"react-router-dom\" // eslint-disable-line no-unused-vars\nimport ConnectedSwitch from \"../routing/ConnectedSwitch\"\nimport PrivateRoute from \"../routing/PrivateRoute\"\nimport Header from \"../components/Header\"\nimport Errors from \"../components/Errors\"\nimport MovieGrid from \"./MovieGrid\"\nimport CountryResults from \"./CountryResults\"\nimport LoginCard from \"../components/LoginCard\"\nimport SignupCard from \"../components/SignupCard\"\nimport MovieDetail from \"../components/MovieDetail\"\nimport Account from \"../components/Account\"\nimport Status from \"../components/Status\"\nimport AppDrawer from \"../components/AppDrawer\"\nimport AdminRoute from \"../routing/AdminRoute\"\nimport AdminPanel from \"../containers/AdminPanel\"\nimport \"./normalize.css\"\nimport UserReport from \"./UserReport\"\n\nclass MainContainer extends Component {\n  render() {\n    return (\n      <div id=\"full\" style={{ overflowX: \"hidden\" }}>\n        <Header />\n        <AppDrawer />\n        <Errors />\n        <ConnectedSwitch>\n          <AdminRoute\n            path=\"/admin\"\n            component={AdminPanel}\n            redirectRoute=\"/login\"\n          />\n          <Route exact path=\"/\" component={MovieGrid} />\n          <Route exact path=\"/movies/id/:id\" component={MovieDetail} />\n          <Route exact path=\"/country-results\" component={CountryResults} />\n          <PrivateRoute\n            path=\"/account\"\n            component={Account}\n            redirectRoute=\"/login\"\n          />\n          <Route exact path=\"/account\" component={Account} />\n          <Route path=\"/status\" component={Status} />\n          <Route path=\"/login\" component={LoginCard} />\n          <Route path=\"/signup\" component={SignupCard} />\n          <Route path=\"/user-report\" component={UserReport} />\n        </ConnectedSwitch>\n      </div>\n    )\n  }\n}\nexport default MainContainer\n","import {\n  RECEIVED_MOVIES,\n  RECEIVED_MOVIE_BY_ID,\n  VIEW_MOVIE,\n  RECEIVED_SEARCH_RESULTS,\n  RECEIVED_COUNTRY_RESULTS,\n  MOVIE_DETAIL,\n  RECEIVED_PAGINATION,\n  BEGIN_PAGING,\n  PROP_FACET_FILTER,\n  SUBMIT_COMMENT_SUCCESS,\n  UPDATE_COMMENT_SUCCESS\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  movies: [],\n  page: 0,\n  movie: {},\n  filters: {},\n  facets: {\n    rating: [],\n    runtime: []\n  },\n  entries_per_page: 0,\n  total_results: 0,\n  viewMovie: false,\n  apiError: false,\n  fetchMovieFailure: false,\n  searchMovieFailure: false,\n  paging: false,\n  titles: [],\n  facetFilters: {\n    rating: {},\n    runtime: {}\n  },\n  shownMovies: []\n}\n\n/**\n * @typedef Bucket\n * @property {number} _id The lower bound of this statistical bucket\n * @property {number} count The count of elements in this bucket\n */\n\n/**\n *\n * @param {[Bucket]} left An array of Buckets\n * @param {[Bucket]} right An array of Buckets\n * @returns {[Bucket]} The combined results of merging the statistical buckets\n */\nconst mergeStatisticalFacets = (left, right) => {\n  let combinedBuckets = {}\n  left.forEach(bucket => {\n    if (bucket) {\n      combinedBuckets[bucket._id] = bucket.count\n    }\n  })\n  right.forEach(bucket => {\n    if (combinedBuckets[bucket._id] !== undefined) {\n      combinedBuckets[bucket._id] += bucket.count\n    } else {\n      combinedBuckets[bucket._id] = bucket.count\n    }\n  })\n  return Object.keys(combinedBuckets).map(elem => {\n    return {\n      _id: elem,\n      count: combinedBuckets[elem]\n    }\n  })\n}\n\nconst applyFacetFilters = (movies, facetFilters) => {\n  const { rating, runtime } = facetFilters\n  let filteredMovies = movies.slice()\n  if (Object.keys(rating).length || Object.keys(runtime).length) {\n    const filters = [\n      ...Object.keys(rating).map(key => rating[key]),\n      ...Object.keys(runtime).map(key => runtime[key])\n    ]\n    filteredMovies = filteredMovies.filter(elem => filters.some(fn => fn(elem)))\n  }\n  return filteredMovies\n}\n\nexport default function movie(state = initialState, action) {\n  switch (action.type) {\n    case SUBMIT_COMMENT_SUCCESS:\n    case UPDATE_COMMENT_SUCCESS:\n      return {\n        ...state,\n        movie: {\n          ...state.movie,\n          comments: action.comments\n        }\n      }\n\n    case PROP_FACET_FILTER:\n      let tempFacetFilters = state.facetFilters\n      let { facet, key, filter } = action.payload\n      if (tempFacetFilters[facet][key] !== undefined) {\n        delete tempFacetFilters[facet][key]\n      } else {\n        tempFacetFilters[facet][key] = filter\n      }\n      return {\n        ...state,\n        facetFilters: {\n          runtime: tempFacetFilters.runtime,\n          rating: tempFacetFilters.rating\n        },\n        shownMovies: applyFacetFilters(state.movies, tempFacetFilters)\n      }\n\n    case BEGIN_PAGING:\n      return {\n        ...state,\n        paging: true\n      }\n    case MOVIE_DETAIL:\n      return {\n        ...state,\n        movie: state.movies.filter(elem => elem._id === action.movie).pop()\n      }\n    case RECEIVED_MOVIES:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        total_results: action.total_results,\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_SEARCH_RESULTS:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        total_results: action.total_results,\n        facets: {\n          rating: (action.facets && action.facets.rating) || [],\n          runtime: (action.facets && action.facets.runtime) || []\n        },\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_COUNTRY_RESULTS:\n      return {\n        ...state,\n        titles: action.titles\n      }\n    case RECEIVED_PAGINATION:\n      return {\n        ...state,\n        movies: action.movies,\n        page: action.page,\n        filters: action.filters,\n        entries_per_page: action.entries_per_page,\n        paging: false,\n        facets: {\n          rating:\n            (action.facets &&\n              mergeStatisticalFacets(\n                state.facets.rating,\n                action.facets.rating\n              )) ||\n            [],\n          runtime:\n            (action.facets &&\n              mergeStatisticalFacets(\n                state.facets.runtime,\n                action.facets.runtime\n              )) ||\n            []\n        },\n        shownMovies: applyFacetFilters(action.movies, state.facetFilters)\n      }\n    case RECEIVED_MOVIE_BY_ID:\n      return { ...state, movie: action.movie }\n    case VIEW_MOVIE:\n      return { ...state, viewMovie: !state.viewMovie }\n\n    default:\n      return state\n  }\n}\n","import {\n  RECEIVED_MOVIES,\n  RECEIVED_MOVIE_BY_ID,\n  RECEIVED_SEARCH_RESULTS,\n  RECEIVED_COUNTRY_RESULTS,\n  FETCH_MOVIES_FAILURE,\n  FETCH_MOVIE_BY_ID_FAILURE,\n  SEARCH_MOVIES_FAILURE,\n  SEARCH_COUNTRIES_FAILURE,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  CLEAR_ERROR,\n} from \"../actions/actionTypes\"\n\nfunction findError(error) {\n  while (error.error) {\n    return findError(error.error)\n  }\n  return error\n}\n\nconst initialState = {\n  userErrName: \"\",\n  userErrPassword: \"\",\n  userErrEmail: \"\",\n  fetchMovieErrMsg: \"\",\n  searchMovieErrMsg: \"\",\n  searchCountriesErrMsg: \"\",\n  fetchMovieByIDErrMsg: \"\",\n}\n\nexport default function errors(state = initialState, action) {\n  switch (action.type) {\n    case CLEAR_ERROR:\n      let newState = {\n        ...state,\n        [action.key]: \"\",\n      }\n      return { ...newState }\n\n    case RECEIVED_MOVIES:\n      newState = {\n        ...state,\n        fetchMovieErrMsg: \"\",\n      }\n      return { ...newState }\n\n    case RECEIVED_SEARCH_RESULTS:\n      newState = {\n        ...state,\n        searchMovieErrMsg: \"\",\n      }\n      return { ...newState }\n\n    case RECEIVED_COUNTRY_RESULTS:\n      newState = {\n        ...state,\n        searchCountriesErrMsg: \"\",\n      }\n      return { ...newState }\n\n    case RECEIVED_MOVIE_BY_ID:\n      newState = {\n        ...state,\n        fetchMovieByIDErrMsg: \"\",\n      }\n      return { ...newState }\n\n    case LOGIN_SUCCESS:\n      newState = {\n        ...state,\n        userErrMsg: \"\",\n      }\n      return { ...newState }\n\n    case LOGIN_FAIL:\n      const error = findError(action)\n      return {\n        ...state,\n        userErrName: error.name || \"\",\n        userErrPassword: error.password || \"\",\n        userErrEmail: error.email || \"\",\n        userErrMsg:\n          error === \"Unauthorized\" ? \"Invalid username or password\" : \"\",\n      }\n\n    case FETCH_MOVIE_BY_ID_FAILURE:\n      return {\n        ...state,\n        fetchMovieByIDErrMsg: action.error,\n      }\n\n    case FETCH_MOVIES_FAILURE:\n      return {\n        ...state,\n        fetchMovieErrMsg: action.error,\n      }\n\n    case SEARCH_MOVIES_FAILURE:\n      console.log(\"search failure! \", action.error)\n      return {\n        ...state,\n        searchMovieErrMsg: action.error,\n      }\n\n    case SEARCH_COUNTRIES_FAILURE:\n      return {\n        ...state,\n        searchCountriesErrMsg: action.error,\n      }\n\n    default:\n      return state\n  }\n}\n","import {\n  FETCH_MOVIES,\n  SEARCH_MOVIES,\n  FETCH_MOVIE_BY_ID,\n  PAGINATE_MOVIES,\n} from \"../actions/actionTypes\"\n\nconst initialState = {}\n\nexport default function movie(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_MOVIES:\n    case SEARCH_MOVIES:\n    case PAGINATE_MOVIES:\n    case FETCH_MOVIE_BY_ID:\n      return action\n    default:\n      return state\n  }\n}\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\")\n    if (serializedState === null) {\n      return undefined\n    }\n    return JSON.parse(serializedState)\n  } catch (err) {\n    return undefined\n  }\n}\n\nexport const saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state)\n    localStorage.setItem(\"state\", serializedState)\n  } catch (err) {\n    // LocalStorage wasn't accessible. This will be a requirement for users, otherwise nothing to do.\n  }\n}\n","import {\n  LOGIN_SUCCESS,\n  LOGOUT,\n  SAVE_PREFS_SUCCESS,\n  CHECK_ADMIN_SUCCESS,\n  CHECK_ADMIN_FAIL,\n} from \"../actions/actionTypes\"\nimport { loadState } from \"../store/localStorage\"\n\nlet initialState = {\n  auth_token: \"\",\n  info: {\n    preferences: {\n      favorite_cast: \"\",\n      preferred_language: \"\",\n    },\n  },\n  loggedIn: false,\n  isAdmin: false,\n}\nlet localState\ntry {\n  localState = { ...initialState, ...loadState() }\n} catch (e) {\n  localState = initialState\n}\n\nexport default function user(state = localState, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      let loaded_prefs\n      if (!action.user || !action.user.info || !action.user.info.preferences) {\n        loaded_prefs = initialState.info.preferences\n      } else {\n        loaded_prefs = action.user.info.preferences\n      }\n      let userInfo = action.user.info || action.user\n      return {\n        auth_token: action.user.auth_token,\n        info: {\n          ...state.info,\n          ...userInfo,\n          preferences: { ...state.info.preferences, ...loaded_prefs },\n        },\n        loggedIn: true,\n      }\n    case LOGOUT: {\n      return initialState\n    }\n\n    case SAVE_PREFS_SUCCESS:\n      return {\n        ...state,\n        info: {\n          ...state.info,\n          preferences: { ...state.info.preferences, ...action.preferences },\n        },\n      }\n\n    case CHECK_ADMIN_FAIL:\n      return {\n        ...state,\n        isAdmin: false,\n      }\n\n    case CHECK_ADMIN_SUCCESS:\n      return {\n        ...state,\n        isAdmin: true,\n      }\n\n    default:\n      return state\n  }\n}\n","import {\n  TOGGLE_DRAWER,\n  CHECK_ADMIN,\n  CHECK_ADMIN_FAIL,\n  CHECK_ADMIN_SUCCESS,\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  open: false,\n  checkingAdminStatus: false,\n}\n\nexport default function misc(state = initialState, action) {\n  switch (action.type) {\n    case TOGGLE_DRAWER:\n      return { ...state, open: !state.open }\n\n    case CHECK_ADMIN:\n      console.log(\"checking admin begin\")\n      return { ...state, checkingAdminStatus: true }\n\n    case CHECK_ADMIN_FAIL:\n    case CHECK_ADMIN_SUCCESS:\n      console.log(\"checking admin end\")\n      return { ...state, checkingAdminStatus: false }\n\n    default:\n      return state\n  }\n}\n","import {\n  VALIDATING_TICKET,\n  VALIDATE_CONNECTION,\n  VALIDATE_CONNECTION_SUCCESS,\n  VALIDATE_CONNECTION_ERROR,\n  VALIDATE_PROJECTION,\n  VALIDATE_PROJECTION_SUCCESS,\n  VALIDATE_PROJECTION_ERROR,\n  VALIDATE_TEXT_AND_SUBFIELD,\n  VALIDATE_TEXT_AND_SUBFIELD_ERROR,\n  VALIDATE_TEXT_AND_SUBFIELD_SUCCESS,\n  VALIDATE_PAGING,\n  VALIDATE_PAGING_SUCCESS,\n  VALIDATE_PAGING_ERROR,\n  VALIDATE_FACETED_SEARCH,\n  VALIDATE_FACETED_SEARCH_SUCCESS,\n  VALIDATE_FACETED_SEARCH_ERROR,\n  VALIDATE_USER_MANAGEMENT,\n  VALIDATE_USER_MANAGEMENT_SUCCESS,\n  VALIDATE_USER_MANAGEMENT_ERROR,\n  VALIDATE_USER_PREFERENCES,\n  VALIDATE_USER_PREFERENCES_SUCCESS,\n  VALIDATE_USER_PREFERENCES_ERROR,\n  VALIDATE_GET_COMMENTS,\n  VALIDATE_GET_COMMENTS_ERROR,\n  VALIDATE_GET_COMMENTS_SUCCESS,\n  VALIDATE_CREATE_UPDATE_COMMENTS,\n  VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS,\n  VALIDATE_CREATE_UPDATE_COMMENTS_ERROR,\n  VALIDATE_DELETE_COMMENTS,\n  VALIDATE_DELETE_COMMENTS_SUCCESS,\n  VALIDATE_DELETE_COMMENTS_ERROR,\n  VALIDATE_USER_REPORT,\n  VALIDATE_USER_REPORT_SUCCESS,\n  VALIDATE_USER_REPORT_ERROR,\n  VALIDATE_MIGRATION,\n  VALIDATE_MIGRATION_SUCCESS,\n  VALIDATE_MIGRATION_ERROR,\n  VALIDATE_CONNECTION_POOLING,\n  VALIDATE_CONNECTION_POOLING_SUCCESS,\n  VALIDATE_CONNECTION_POOLING_ERROR,\n  VALIDATE_TIMEOUTS,\n  VALIDATE_TIMEOUTS_SUCCESS,\n  VALIDATE_TIMEOUTS_ERROR,\n  VALIDATE_ERROR_HANDLING,\n  VALIDATE_ERROR_HANDLING_SUCCESS,\n  VALIDATE_ERROR_HANDLING_ERROR,\n  VALIDATE_POLP,\n  VALIDATE_POLP_SUCCESS,\n  VALIDATE_POLP_ERROR\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  hasWeek1Errors: false,\n  hasWeek2Errors: false,\n  validatingConnection: false,\n  validatingProjection: false,\n  validatingTextAndSubfield: false,\n  validatingPaging: false,\n  validatingFacetedSearch: false,\n  validatingUserManagement: false,\n  validatingUserPreferences: false,\n  validatingGetComments: false,\n  validatingCreateUpdateComments: false,\n  validatingDeleteComments: false,\n  validatingUserReport: false,\n  validatingMigration: false,\n  validatingConnectionPooling: false,\n  validatingTimeouts: false,\n  validatingErrorHandling: false,\n  validatingPOLP: false,\n  week1Validating: false,\n  week2Validating: false,\n  ConnectionError: false,\n  ProjectionError: false,\n  TextAndSubfieldError: false,\n  PagingError: false,\n  FacetedSearchError: false,\n  UserManagementError: false,\n  UserPreferencesError: false,\n  GetCommentsError: false,\n  CreateUpdateCommentsError: false,\n  DeleteCommentsError: false,\n  UserReportError: false,\n  MigrationError: false,\n  ConnectionPoolingError: false,\n  TimeoutsError: false,\n  ErrorHandlingError: false,\n  POLPError: false,\n  ConnectionErrorMessage: \"\",\n  ProjectionErrorMessage: \"\",\n  TextAndSubfieldErrorMessage: \"\",\n  PagingErrorMessage: \"\",\n  FacetedSearchErrorMessage: \"\",\n  UserManagementErrorMessage: \"\",\n  UserPreferencesErrorMessage: \"\",\n  GetCommentsErrorMessage: \"\",\n  CreateUpdateCommentsErrorMessage: \"\",\n  DeleteCommentsErrorMessage: \"\",\n  UserReportErrorMessage: \"\",\n  MigrationErrorMessage: \"\",\n  ConnectionPoolingErrorMessage: \"\",\n  TimeoutsErrorMessage: \"\",\n  ErrorHandlingErrorMessage: \"\",\n  POLPErrorMessage: \"\",\n  ConnectionSuccess: \"5a9026003a466d5ac6497a9d\",\n  ProjectionSuccess: \"5a94762f949291c47fa6474d\",\n  TextAndSubfieldSuccess: \"5a96a6a29c453a40d04922cc\",\n  PagingSuccess: \"5a9824d057adff467fb1f526\",\n  FacetedSearchSuccess: \"5aa7d3948adcc3fb770f06fb\",\n  UserManagementSuccess: \"5a8d8ee2f9588ca2701894be\",\n  UserPreferencesSuccess: \"5aabe31503ac76bc4f73e267\",\n  GetCommentsSuccess: \"5ab5094fb526e43b570e4633\",\n  CreateUpdateCommentsSuccess: \"5aba8d5113910c25d7058f8f\",\n  DeleteCommentsSuccess: \"5ac25c280a80ed6e67e1cecb\",\n  UserReportSuccess: \"5accad3272455e5db79e4dad\",\n  MigrationSuccess: \"5ad9f6a64fec134d116fb06f\",\n  ConnectionPoolingSuccess: \"5ad4f4f58d4b377bcf55d742\",\n  TimeoutsSuccess: \"5addf035498efdeb55e90b01\",\n  ErrorHandlingSuccess: \"5ae9b76a703c7c603202ef22\",\n  POLPSuccess: \"5b61be29094dbae03bf30616\"\n}\n\nconst hasWeek1Errors = state => {\n  return (\n    state.ConnectionError ||\n    state.ProjectionError ||\n    state.TextAndSubfieldError ||\n    state.PagingError ||\n    state.FacetedSearchError\n  )\n}\n\nconst week1Validating = state => {\n  return (\n    state.validatingConnection ||\n    state.validatingProjection ||\n    state.validatingTextAndSubfield ||\n    state.validatingPaging ||\n    state.validatingFacetedSearch\n  )\n}\n\nconst week2Validating = state => {\n  return (\n    state.validatingUserManagement ||\n    state.validatingUserPreferences ||\n    state.validatingGetComments ||\n    state.validatingCreateUpdateComments ||\n    state.validatingDeleteComments ||\n    state.validatingUserReport ||\n    state.validatingMigration ||\n    state.validatingConnectionPooling ||\n    state.validatingTimeouts ||\n    state.validatingErrorHandling ||\n    state.validateingPOLP\n  )\n}\n\nconst hasWeek2Errors = state => {\n  return (\n    state.UserManagementError ||\n    state.UserPreferencesError ||\n    state.GetCommentsError ||\n    state.CreateUpdateCommentsError ||\n    state.DeleteCommentsError ||\n    state.UserReportError ||\n    state.MigrationError ||\n    state.ConnectionPoolingError ||\n    state.TimeoutsError ||\n    state.ErrorHandlingError ||\n    state.POLPError\n  )\n}\n\nexport default function validate(state = initialState, action) {\n  switch (action.type) {\n    case VALIDATING_TICKET:\n      return { ...state, [`validating${action.ticket}`]: true }\n    case VALIDATE_CONNECTION:\n    case VALIDATE_PROJECTION:\n    case VALIDATE_TEXT_AND_SUBFIELD:\n    case VALIDATE_PAGING:\n    case VALIDATE_FACETED_SEARCH:\n    case VALIDATE_USER_MANAGEMENT:\n    case VALIDATE_USER_PREFERENCES:\n    case VALIDATE_GET_COMMENTS:\n    case VALIDATE_CREATE_UPDATE_COMMENTS:\n    case VALIDATE_DELETE_COMMENTS:\n    case VALIDATE_USER_REPORT:\n    case VALIDATE_MIGRATION:\n    case VALIDATE_CONNECTION_POOLING:\n    case VALIDATE_TIMEOUTS:\n    case VALIDATE_ERROR_HANDLING:\n    case VALIDATE_POLP:\n      return action\n    case VALIDATE_CONNECTION_SUCCESS:\n      let newState = {\n        ...state,\n        ConnectionSuccess: initialState.ConnectionSuccess,\n        ConnectionError: false,\n        ConnectionErrorMessage: \"\",\n        validatingConnection: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n    case VALIDATE_PROJECTION_SUCCESS:\n      newState = {\n        ...state,\n        ProjectionSuccess: initialState.ProjectionSuccess,\n        ProjectionError: false,\n        ProjectionErrorMessage: \"\",\n        validatingProjection: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_TEXT_AND_SUBFIELD_SUCCESS:\n      newState = {\n        ...state,\n        TextAndSubfieldSuccess: initialState.TextAndSubfieldSuccess,\n        TextAndSubfieldError: false,\n        TextAndSubfieldErrorMessage: \"\",\n        validatingTextAndSubfield: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_PAGING_SUCCESS:\n      newState = {\n        ...state,\n        PagingSuccess: initialState.PagingSuccess,\n        PagingError: false,\n        PagingErrorMessage: \"\",\n        validatingPaging: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_FACETED_SEARCH_SUCCESS:\n      newState = {\n        ...state,\n        FacetedSearchSuccess: initialState.FacetedSearchSuccess,\n        FacetedSearchError: false,\n        FacetedSearchErrorMessage: \"\",\n        validatingFacetedSearch: false\n      }\n      return {\n        ...newState,\n        hasWeek1Errors: hasWeek1Errors(newState),\n        week1Validating: week1Validating(newState)\n      }\n\n    case VALIDATE_USER_MANAGEMENT_SUCCESS:\n      newState = {\n        ...state,\n        UserManagementSuccess: initialState.UserManagementSuccess,\n        UserManagementError: false,\n        UserManagementErrorMessage: \"\",\n        validatingUserManagement: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n    case VALIDATE_USER_PREFERENCES_SUCCESS:\n      newState = {\n        ...state,\n        UserPreferencesSuccess: initialState.UserPreferencesSuccess,\n        UserPreferencesError: false,\n        UserPreferencesErrorMessage: \"\",\n        validatingUserPreferences: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_GET_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        GetCommentsSuccess: initialState.GetCommentsSuccess,\n        GetCommentsError: false,\n        GetCommentsErrorMessage: \"\",\n        validatingGetComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CREATE_UPDATE_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        CreateUpdateCommentsSuccess: initialState.CreateUpdateCommentsSuccess,\n        CreateUpdateCommentsError: false,\n        CreateUpdateCommentsErrorMessage: \"\",\n        validatingCreateUpdateComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_DELETE_COMMENTS_SUCCESS:\n      newState = {\n        ...state,\n        DeleteCommentsSuccess: initialState.DeleteCommentsSuccess,\n        DeleteCommentsError: false,\n        DeleteCommentsErrorMessage: \"\",\n        validatingDeleteComments: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_USER_REPORT_SUCCESS:\n      newState = {\n        ...state,\n        UserReportSuccess: initialState.UserReportSuccess,\n        UserReportError: false,\n        UserReportErrorMessage: \"\",\n        validatingUserReport: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_MIGRATION_SUCCESS:\n      newState = {\n        ...state,\n        MigrationSuccess: initialState.MigrationSuccess,\n        MigrationError: false,\n        MigrationErrorMessage: \"\",\n        validatingMigration: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CONNECTION_POOLING_SUCCESS:\n      newState = {\n        ...state,\n        ConnectionPoolingSuccess: initialState.ConnectionPoolingSuccess,\n        ConnectionPoolingError: false,\n        ConnectionPoolingErrorMessage: \"\",\n        validatingConnectionPooling: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_TIMEOUTS_SUCCESS:\n      newState = {\n        ...state,\n        TimeoutsSuccess: initialState.TimeoutsSuccess,\n        TimeoutsError: false,\n        TimeoutsErrorMessage: \"\",\n        validatingTimeouts: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_ERROR_HANDLING_SUCCESS:\n      newState = {\n        ...state,\n        ErrorHandlingSuccess: initialState.ErrorHandlingSuccess,\n        ErrorHandlingError: false,\n        ErrorHandlingErrorMessage: \"\",\n        validatingErrorHandling: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_POLP_SUCCESS:\n      newState = {\n        ...state,\n        POLPSuccess: initialState.POLPSuccess,\n        POLPError: false,\n        POLPErrorMessage: \"\",\n        validatingPOLP: false\n      }\n      return {\n        ...newState,\n        hasWeek2Errors: hasWeek2Errors(state),\n        week2Validating: week2Validating(newState)\n      }\n\n    case VALIDATE_CONNECTION_ERROR:\n      newState = {\n        ...state,\n        ConnectionError: true,\n        ConnectionSuccess: \"\",\n        ConnectionErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingConnection: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_PROJECTION_ERROR:\n      newState = {\n        ...state,\n        ProjectionError: true,\n        ProjectionSuccess: \"\",\n        ProjectionErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingProjection: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_TEXT_AND_SUBFIELD_ERROR:\n      newState = {\n        ...state,\n        TextAndSubfieldError: true,\n        TextAndSubfieldSuccess: \"\",\n        TextAndSubfieldErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingTextAndSubfield: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_PAGING_ERROR:\n      newState = {\n        ...state,\n        PagingError: true,\n        PagingSuccess: \"\",\n        PagingErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingPaging: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_FACETED_SEARCH_ERROR:\n      newState = {\n        ...state,\n        FacetedSearchError: true,\n        FacetedSearchSuccess: \"\",\n        FacetedSearchErrorMessage: action.error.message,\n        hasWeek1Errors: true,\n        validatingFacetedSearch: false\n      }\n      return { ...newState, week1Validating: week1Validating(newState) }\n\n    case VALIDATE_USER_MANAGEMENT_ERROR:\n      newState = {\n        ...state,\n        UserManagementError: true,\n        UserManagementSuccess: \"\",\n        UserManagementErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserManagement: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_USER_PREFERENCES_ERROR:\n      newState = {\n        ...state,\n        UserPreferencesError: true,\n        UserPreferencesSuccess: \"\",\n        UserPreferencesErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserPreferences: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_GET_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        GetCommentsError: true,\n        GetCommentsSuccess: \"\",\n        GetCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingGetComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_CREATE_UPDATE_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        CreateUpdateCommentsError: true,\n        CreateUpdateCommentsSuccess: \"\",\n        CreateUpdateCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingCreateUpdateComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_DELETE_COMMENTS_ERROR:\n      newState = {\n        ...state,\n        DeleteCommentsError: true,\n        DeleteCommentsSuccess: \"\",\n        DeleteCommentsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingDeleteComments: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_USER_REPORT_ERROR:\n      newState = {\n        ...state,\n        UserReportError: true,\n        UserReportSuccess: \"\",\n        UserReportErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingUserReport: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_MIGRATION_ERROR:\n      newState = {\n        ...state,\n        MigrationError: true,\n        MigrationSuccess: \"\",\n        MigrationErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingMigration: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_CONNECTION_POOLING_ERROR:\n      newState = {\n        ...state,\n        ConnectionPoolingError: true,\n        ConnectionPoolingSuccess: \"\",\n        ConnectionPoolingErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingConnectionPooling: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_TIMEOUTS_ERROR:\n      newState = {\n        ...state,\n        TimeoutsError: true,\n        TimeoutsSuccess: \"\",\n        TimeoutsErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingTimeouts: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_ERROR_HANDLING_ERROR:\n      newState = {\n        ...state,\n        ErrorHandlingError: true,\n        ErrorHandlingSuccess: \"\",\n        ErrorHandlingErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingErrorHandling: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    case VALIDATE_POLP_ERROR:\n      newState = {\n        ...state,\n        POLPError: true,\n        POLPSuccess: \"\",\n        POLPErrorMessage: action.error.message,\n        hasWeek2Errors: true,\n        validatingPOLP: false\n      }\n      return { ...newState, week2Validating: week2Validating(newState) }\n\n    default:\n      return state\n  }\n}\n","import {\n  FETCH_USER_REPORT,\n  RECEIVED_USER_REPORT_SUCCESS,\n  RECEIVED_USER_REPORT_FAILURE,\n} from \"../actions/actionTypes\"\n\nconst initialState = {\n  fetching: false,\n  report: [],\n}\n\nexport default function misc(state = initialState, action) {\n  switch (action.type) {\n    case RECEIVED_USER_REPORT_FAILURE:\n      return {\n        report: [],\n        fetching: false,\n      }\n    case RECEIVED_USER_REPORT_SUCCESS:\n      return {\n        report: action.report,\n        fetching: false,\n      }\n    case FETCH_USER_REPORT:\n      return {\n        ...state,\n        fetching: true,\n      }\n    default:\n      return state\n  }\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\"\nimport thunk from \"redux-thunk\"\nimport movies from \"../reducers/moviesReducer\"\nimport errors from \"../reducers/errorsReducer\"\nimport fetches from \"../reducers/fetchReducer\"\nimport user from \"../reducers/userReducer\"\nimport misc from \"../reducers/miscReducer\"\nimport validate from \"../reducers/validationReducer\"\nimport report from \"../reducers/reportReducer\"\nimport createHistory from \"history/createBrowserHistory\"\nimport { routerReducer, routerMiddleware } from \"react-router-redux\"\n\n// Create a history of your choosing (we're using a browser history in this case)\nconst history = createHistory()\n\n// Persisted user state\n\n// Build the middleware for intercepting and dispatching navigation actions\nconst middleware = routerMiddleware(history)\n\nexport default function configureStore() {\n  return createStore(\n    combineReducers({\n      report,\n      misc,\n      validate,\n      user,\n      errors,\n      movies,\n      fetches,\n      router: routerReducer,\n    }),\n    window.__REDUX_DEVTOOLS_EXTENSION__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION__(),\n    applyMiddleware(thunk, middleware)\n  )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport MainContainer from \"./containers/MainContainer\"\nimport { Provider } from \"react-redux\"\nimport configureStore from \"../src/store/configureStore\"\nimport { ConnectedRouter } from \"react-router-redux\"\nimport createHistory from \"history/createBrowserHistory\"\nimport { saveState } from \"./store/localStorage\"\nimport throttle from \"lodash.throttle\"\n\nconst history = createHistory()\nconst store = configureStore()\n\nstore.subscribe(\n  throttle(() => {\n    saveState(store.getState().user)\n  }, 1000),\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <MainContainer />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById(\"root\"),\n)\n"],"sourceRoot":""}